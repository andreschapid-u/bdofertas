<?xml version="1.0" encoding="UTF-8" ?>
<project name="ofertas" id="Project_5e56948" template="Default" database="PostgreSQL" >
	<schema name="ofertas" >
		<table name="administrador_empresa" >
			<column name="id_aut_administrador_empresa" type="serial" jt="4" mandatory="y" />
			<column name="nombres" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="apellidos" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="id_cargo" type="integer" jt="4" mandatory="y" />
			<column name="telefono" type="varchar" length="16" jt="12" />
			<column name="telefono_movil" type="varchar" length="16" jt="12" mandatory="y" />
			<column name="horario_contacto" type="varchar" length="40" jt="12" />
			<column name="correo_corporativo" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="id_direccion" type="integer" jt="4" mandatory="y" />
			<column name="id_empresa" type="integer" jt="4" mandatory="y" />
			<column name="id_aut_user" type="integer" jt="4" mandatory="y" />
			<index name="pk_representante_legal_id" unique="PRIMARY_KEY" >
				<column name="id_aut_administrador_empresa" />
			</index>
			<index name="idx_administrador_empresa_0" unique="UNIQUE" >
				<column name="id_empresa" />
			</index>
			<index name="idx_administrador_empresa_1" unique="UNIQUE" >
				<column name="correo_corporativo" />
			</index>
			<fk name="fk_representante_legal_localizacion" to_schema="ofertas" to_table="localizacion" >
				<fk_column name="id_direccion" pk="id_aut_localizacion" />
			</fk>
			<fk name="fk_representante_legal_empresa" to_schema="ofertas" to_table="empresas" >
				<fk_column name="id_empresa" pk="id_aut_empresa" />
			</fk>
			<fk name="fk_representante_empresa" to_schema="ofertas" to_table="cargos" >
				<fk_column name="id_cargo" pk="id_aut_cargos" />
			</fk>
			<fk name="fk_administrador_empresa_users" to_schema="ofertas" to_table="users" >
				<fk_column name="id_aut_user" pk="id_aut_user" />
			</fk>
		</table>
		<table name="areas_conocimiento" >
			<column name="id_aut_areaconocimiento" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="100" jt="12" mandatory="y" />
			<index name="pk_areas_conocimiento_id" unique="PRIMARY_KEY" >
				<column name="id_aut_areaconocimiento" />
			</index>
		</table>
		<table name="cargos" >
			<column name="id_aut_cargos" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="estado" type="bool" jt="-7" >
				<defo>false</defo>
			</column>
			<index name="pk_cargos_id_0" unique="PRIMARY_KEY" >
				<column name="id_aut_cargos" />
			</index>
		</table>
		<table name="carnetizacion" >
			<column name="id_aut_carnetizacion" type="integer" jt="4" mandatory="y" />
			<column name="estado_solicitud" type="varchar" length="50" jt="12" mandatory="y" />
			<index name="pk_carnetizacion_id_aut_carnetizacion" unique="PRIMARY_KEY" >
				<column name="id_aut_carnetizacion" />
			</index>
		</table>
		<table name="ciudades" >
			<column name="id_aut_ciudad" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" />
			<column name="id_departamento" type="integer" jt="4" mandatory="y" />
			<index name="pk_ciudades_id" unique="PRIMARY_KEY" >
				<column name="id_aut_ciudad" />
			</index>
			<index name="idx_ciudades" unique="UNIQUE" >
				<column name="nombre" />
				<column name="id_departamento" />
			</index>
			<fk name="fk_ciudades_departamentos" to_schema="ofertas" to_table="departamentos" >
				<fk_column name="id_departamento" pk="id_aut_dep" />
			</fk>
		</table>
		<table name="contratos" >
			<column name="id_aut_contrato" type="serial" jt="4" mandatory="y" />
			<column name="duracion" type="varchar" length="20" jt="12" />
			<column name="tipo_contrato" type="varchar" length="50" jt="12" mandatory="y" />
			<column name="jornada_laboral" type="varchar" length="30" jt="12" mandatory="y" />
			<column name="horario" type="varchar" length="40" jt="12" />
			<column name="comentarios_salario" type="text" jt="12" />
			<column name="id_oferta" type="integer" jt="4" mandatory="y" />
			<index name="pk_contratos_id_aut_contrato" unique="PRIMARY_KEY" >
				<column name="id_aut_contrato" />
			</index>
			<index name="idx_contratos_oferta" unique="UNIQUE" >
				<column name="id_oferta" />
			</index>
			<fk name="fk_contratos_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_oferta" pk="id_aut_oferta" />
			</fk>
		</table>
		<table name="departamentos" >
			<column name="id_aut_dep" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" mandatory="y" />
			<column name="id_pais_fk" type="integer" jt="4" mandatory="y" />
			<index name="pk_departamento_id" unique="PRIMARY_KEY" >
				<column name="id_aut_dep" />
			</index>
			<index name="idx_departamentos" unique="UNIQUE" >
				<column name="nombre" />
				<column name="id_pais_fk" />
			</index>
			<fk name="fk_departamentos_pais" to_schema="ofertas" to_table="pais" >
				<fk_column name="id_pais_fk" pk="id_aut_pais" />
			</fk>
		</table>
		<table name="discapacidades" >
			<column name="id_aut_discapacidades" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="30" jt="12" mandatory="y" />
			<index name="pk_discapacidades_id_aut_discapacidades" unique="PRIMARY_KEY" >
				<column name="id_aut_discapacidades" />
			</index>
		</table>
		<table name="egresados" >
			<column name="id_aut_egresado" type="serial" jt="4" mandatory="y" />
			<column name="identificacion" type="integer" jt="4" mandatory="y" />
			<column name="nombres" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="apellidos" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="genero" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="id_lugar_expedicion" type="integer" jt="4" />
			<column name="id_lugar_residencia" type="integer" jt="4" />
			<column name="id_nivel_educativo" type="integer" jt="4" />
			<column name="num_hijos" type="smallint" jt="5" >
				<defo>0</defo>
			</column>
			<column name="id_lugar_nacimiento" type="integer" jt="4" />
			<column name="fecha_nacimiento" type="date" jt="91" />
			<column name="estado" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="correo" type="varchar" length="100" jt="12" />
			<column name="correo_alternativo" type="varchar" length="100" jt="12" />
			<column name="estado_civil" type="varchar" length="40" jt="12" />
			<column name="ha_trabajado" type="bool" jt="-7" />
			<column name="trabaja_actualmente" type="bool" jt="-7" />
			<column name="id_aut_user" type="integer" jt="4" />
			<column name="grupo_etnico" type="varchar" length="40" jt="12" />
			<column name="celular" type="varchar" length="16" jt="12" />
			<column name="telefono_fijo" type="varchar" length="16" jt="12" />
			<index name="pk_egresados_id" unique="PRIMARY_KEY" >
				<column name="id_aut_egresado" />
			</index>
			<fk name="fk_egresados_ciudades" to_schema="ofertas" to_table="ciudades" >
				<fk_column name="id_lugar_expedicion" pk="id_aut_ciudad" />
			</fk>
			<fk name="fk_egresados_localizacion" to_schema="ofertas" to_table="localizacion" >
				<fk_column name="id_lugar_residencia" pk="id_aut_localizacion" />
			</fk>
			<fk name="fk_egresados_niveles_estudio" to_schema="ofertas" to_table="niveles_estudio" >
				<fk_column name="id_nivel_educativo" pk="id_aut_estudio" />
			</fk>
			<fk name="fk_egresados_users" to_schema="ofertas" to_table="users" >
				<fk_column name="id_aut_user" pk="id_aut_user" />
			</fk>
			<fk name="fk_egresados_nacimiento_ciudades" to_schema="ofertas" to_table="ciudades" >
				<fk_column name="id_lugar_nacimiento" pk="id_aut_ciudad" />
			</fk>
		</table>
		<table name="egresados_discapacidades" >
			<column name="id_egresado" type="integer" jt="4" mandatory="y" />
			<column name="id_discapacidad" type="integer" jt="4" mandatory="y" />
			<column name="descripcion" type="varchar" length="80" jt="12" />
			<index name="idx_egresados_discapacidades" unique="PRIMARY_KEY" >
				<column name="id_egresado" />
				<column name="id_discapacidad" />
			</index>
			<fk name="fk_egresados_discapacidades_egresado" to_schema="ofertas" to_table="egresados" >
				<fk_column name="id_egresado" pk="id_aut_egresado" />
			</fk>
			<fk name="fk_egresados_discapacidades_discap" to_schema="ofertas" to_table="discapacidades" >
				<fk_column name="id_discapacidad" pk="id_aut_discapacidades" />
			</fk>
		</table>
		<table name="empresas" >
			<column name="id_aut_empresa" type="serial" jt="4" mandatory="y" />
			<column name="nit" type="varchar" length="15" jt="12" mandatory="y" />
			<column name="nombre" type="varchar" length="100" jt="12" />
			<column name="razon_social" type="varchar" length="200" jt="12" mandatory="y" />
			<column name="anio_creacion" type="smallint" jt="5" mandatory="y" />
			<column name="numero_empleados" type="varchar" length="30" jt="12" mandatory="y" />
			<column name="ingresos" type="varchar" length="30" jt="12" />
			<column name="sitio_web" type="varchar" length="200" jt="12" />
			<column name="id_direccion" type="integer" jt="4" mandatory="y" />
			<column name="estado" type="varchar" length="20" jt="12" />
			<column name="fecha_registro" type="date" jt="91" mandatory="y" >
				<defo>current_date</defo>
			</column>
			<column name="fecha_activacion" type="date" jt="91" />
			<column name="fecha_vencimiento" type="date" jt="91" />
			<column name="total_publicaciones" type="integer" jt="4" />
			<column name="limite_publicaciones" type="integer" jt="4" />
			<column name="num_publicaciones_actuales" type="integer" jt="4" />
			<column name="correo" type="varchar" length="60" jt="12" />
			<column name="telefono" type="varchar" length="16" jt="12" />
			<column name="url_logo" type="varchar" length="255" jt="12" />
			<column name="url_doc_camaracomercio" type="varchar" length="255" jt="12" mandatory="y" />
			<column name="descripcion" type="text" jt="12" />
			<index name="pk_empresas_id" unique="PRIMARY_KEY" >
				<column name="id_aut_empresa" />
			</index>
			<index name="idx_empresas_unique_nombre" unique="UNIQUE" >
				<column name="nombre" />
			</index>
			<index name="idx_empresas_unique_nit" unique="UNIQUE" >
				<column name="nit" />
			</index>
			<fk name="fk_empresas_localizacion" to_schema="ofertas" to_table="localizacion" >
				<fk_column name="id_direccion" pk="id_aut_localizacion" />
			</fk>
		</table>
		<table name="empresas_sectores" >
			<column name="id_empresa" type="integer" jt="4" mandatory="y" />
			<column name="id_sub_sector" type="integer" jt="4" mandatory="y" />
			<index name="idx_empresas_sectores" unique="PRIMARY_KEY" >
				<column name="id_empresa" />
				<column name="id_sub_sector" />
			</index>
			<fk name="fk_empresas_sectores_empresa" to_schema="ofertas" to_table="empresas" >
				<fk_column name="id_empresa" pk="id_aut_empresa" />
			</fk>
			<fk name="fk_empresas_sectores_sector" to_schema="ofertas" to_table="sub_sectores" >
				<fk_column name="id_sub_sector" pk="id_aut_sub_sector" />
			</fk>
		</table>
		<table name="evento" >
			<column name="id_aut_evento" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" mandatory="y" />
			<column name="fecha_inicio" type="date" jt="91" />
			<column name="fecha_fin" type="date" jt="91" />
			<column name="lugar" type="text" jt="12" />
			<column name="descripcion" type="varchar" length="50" jt="12" />
			<column name="cupos" type="numeric" jt="2" />
			<column name="a_quien_va_dirigida" type="varchar" length="50" jt="12" />
			<index name="pk_evento_id_evento" unique="PRIMARY_KEY" >
				<column name="id_aut_evento" />
			</index>
		</table>
		<table name="experiencia" >
			<column name="id_aut_exp" type="serial" jt="4" mandatory="y" />
			<column name="id_egresado" type="integer" jt="4" />
			<column name="id_cargo" type="integer" length="100" jt="4" mandatory="y" />
			<column name="nombre_jefe" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="telefono_jefe" type="varchar" length="16" jt="12" />
			<column name="correo_jefe" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="nombre_empresa" type="varchar" length="50" jt="12" mandatory="y" >
				<defo>100</defo>
			</column>
			<column name="dir_empresa" type="varchar" length="50" jt="12" >
				<defo>100</defo>
			</column>
			<column name="tel_trabajo" type="integer" jt="4" />
			<column name="rango_salario" type="varchar" length="50" jt="12" >
				<defo>100</defo>
			</column>
			<column name="tipo_contrato" type="varchar" length="50" jt="12" >
				<defo>50</defo>
			</column>
			<column name="trabajo_en_su_area" type="bool" length="2" jt="-7" />
			<column name="sector" type="varchar" length="40" jt="12" >
				<comment><![CDATA[Publico=0
Privado=1]]></comment>
			</column>
			<column name="id_ciudad" type="integer" jt="4" mandatory="y" />
			<column name="fecha_inicio" type="date" jt="91" mandatory="y" />
			<column name="fecha_fin" type="date" jt="91" />
			<index name="pk_cargos_id" unique="PRIMARY_KEY" >
				<column name="id_aut_exp" />
			</index>
			<fk name="fk_cargos_egresados" to_schema="ofertas" to_table="egresados" >
				<fk_column name="id_egresado" pk="id_aut_egresado" />
			</fk>
			<fk name="fk_experiencia_cargos" to_schema="ofertas" to_table="cargos" >
				<fk_column name="id_cargo" pk="id_aut_cargos" />
			</fk>
			<fk name="fk_experiencia_ciudades" to_schema="ofertas" to_table="ciudades" >
				<fk_column name="id_ciudad" pk="id_aut_ciudad" />
			</fk>
		</table>
		<table name="facultades" >
			<column name="id_aut_facultad" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="60" jt="12" mandatory="y" />
			<index name="pk_facultades_id" unique="PRIMARY_KEY" >
				<column name="id_aut_facultad" />
			</index>
		</table>
		<table name="grados" >
			<column name="id_num_acta" type="integer" jt="4" mandatory="y" >
				<defo>50</defo>
			</column>
			<column name="tipo_grado" type="varchar" length="60" jt="12" />
			<column name="mencion_honor" type="varchar" length="50" jt="12" />
			<column name="titulo_especial" type="varchar" length="100" jt="12" />
			<column name="id_tipo_de_comentarios" type="integer" jt="4" />
			<column name="anio_graduacion" type="varchar" length="50" jt="12" mandatory="y" />
			<column name="fecha_graduacion" type="date" jt="91" />
			<column name="id_programa" type="integer" jt="4" mandatory="y" />
			<column name="id_estudiante" type="integer" jt="4" mandatory="y" />
			<index name="idx_grados" unique="PRIMARY_KEY" >
				<column name="id_programa" />
				<column name="id_estudiante" />
			</index>
			<index name="unq_grados_id_tipo_de_comentarios" unique="UNIQUE" >
				<column name="id_tipo_de_comentarios" />
			</index>
			<fk name="fk_grados_programas" to_schema="ofertas" to_table="programas" >
				<fk_column name="id_programa" pk="id_aut_programa" />
			</fk>
			<fk name="fk_grados_egresados" to_schema="ofertas" to_table="egresados" >
				<fk_column name="id_estudiante" pk="id_aut_egresado" />
			</fk>
		</table>
		<table name="idiomas" >
			<column name="id_aut_idioma" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="20" jt="12" mandatory="y" />
			<index name="pk_idiomas_id_aut_idioma" unique="PRIMARY_KEY" >
				<column name="id_aut_idioma" />
			</index>
			<index name="idx_idiomas" unique="UNIQUE" >
				<column name="nombre" />
			</index>
		</table>
		<table name="localizacion" >
			<column name="id_aut_localizacion" type="serial" jt="4" mandatory="y" />
			<column name="codigo_postal" type="integer" jt="4" />
			<column name="direccion" type="varchar" length="100" jt="12" mandatory="y" />
			<column name="barrio" type="varchar" length="40" jt="12" />
			<column name="id_ciudad" type="integer" jt="4" mandatory="y" />
			<index name="pk_localizacion_id" unique="PRIMARY_KEY" >
				<column name="id_aut_localizacion" />
			</index>
			<fk name="fk_localizacion_ciudades" to_schema="ofertas" to_table="ciudades" >
				<fk_column name="id_ciudad" pk="id_aut_ciudad" />
			</fk>
		</table>
		<table name="nivel_programa" >
			<column name="id_aut_nivprogra" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="40" jt="12" mandatory="y" />
			<index name="pk_nivel_programa_id_aut_nivprogra" unique="PRIMARY_KEY" >
				<column name="id_aut_nivprogra" />
			</index>
			<index name="idx_nivel_programa" unique="UNIQUE" >
				<column name="nombre" />
			</index>
		</table>
		<table name="niveles_estudio" >
			<column name="id_aut_estudio" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" mandatory="y" >
				<defo>100</defo>
			</column>
			<column name="pertenece_u" type="bool" jt="-7" mandatory="y" >
				<defo>false</defo>
			</column>
			<index name="pk_niveles_estudio_id" unique="PRIMARY_KEY" >
				<column name="id_aut_estudio" />
			</index>
			<index name="idx_niveles_estudio_nombre" unique="UNIQUE" >
				<column name="nombre" />
			</index>
		</table>
		<table name="ofertas" >
			<column name="id_aut_oferta" type="serial" jt="4" mandatory="y" />
			<column name="id_empresa" type="integer" jt="4" mandatory="y" />
			<column name="nombre_oferta" type="varchar" length="100" jt="12" mandatory="y" />
			<column name="descripcion" type="text" jt="12" mandatory="y" />
			<column name="id_cargo" type="integer" jt="4" mandatory="y" />
			<column name="numero_vacantes" type="integer" jt="4" mandatory="y" >
				<defo>1</defo>
			</column>
			<column name="id_forma_pago" type="integer" jt="4" mandatory="y" />
			<column name="experiencia" type="varchar" length="30" jt="12" mandatory="y" />
			<column name="anios_experiencia" type="smallint" jt="5" mandatory="y" >
				<defo>0</defo>
			</column>
			<column name="fecha_publicacion" type="date" jt="91" />
			<column name="fecha_cierre" type="date" jt="91" />
			<column name="estado" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="estado_proceso" type="varchar" jt="12" />
			<column name="id_sector" type="integer" jt="4" mandatory="y" />
			<column name="nombre_temporal_empresa" type="varchar" length="30" jt="12" />
			<column name="licencia_conduccion" type="varchar" length="20" jt="12" />
			<column name="requisitos_minimos" type="text" jt="12" mandatory="y" />
			<column name="id_discapacidad" type="integer" jt="4" />
			<column name="num_dias_oferta" type="integer" jt="4" mandatory="y" />
			<column name="id_aut_nivestud" type="integer" jt="4" mandatory="y" />
			<index name="pk_ofertas_id" unique="PRIMARY_KEY" >
				<column name="id_aut_oferta" />
			</index>
			<fk name="fk_ofertas_empresas" to_schema="ofertas" to_table="empresas" >
				<fk_column name="id_empresa" pk="id_aut_empresa" />
			</fk>
			<fk name="fk_ofertas_cargos" to_schema="ofertas" to_table="cargos" >
				<fk_column name="id_cargo" pk="id_aut_cargos" />
			</fk>
			<fk name="fk_ofertas_sectores" to_schema="ofertas" to_table="sectores" >
				<fk_column name="id_sector" pk="id_aut_sector" />
			</fk>
			<fk name="fk_ofertas_salarios" to_schema="ofertas" to_table="salarios" >
				<fk_column name="id_forma_pago" pk="id_aut_salario" />
			</fk>
			<fk name="fk_ofertas_discapacidades" to_schema="ofertas" to_table="discapacidades" >
				<fk_column name="id_discapacidad" pk="id_aut_discapacidades" />
			</fk>
			<fk name="fk_ofertas_niveles_estudio" to_schema="ofertas" to_table="niveles_estudio" >
				<fk_column name="id_aut_nivestud" pk="id_aut_estudio" />
			</fk>
		</table>
		<table name="ofertas_areascon" >
			<column name="id_aut_oferta" type="integer" jt="4" mandatory="y" />
			<column name="id_areaconocimiento" type="integer" jt="4" mandatory="y" />
			<index name="idx_ofertas_areascon" unique="PRIMARY_KEY" >
				<column name="id_aut_oferta" />
				<column name="id_areaconocimiento" />
			</index>
			<fk name="fk_ofertas_areascon_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_aut_oferta" pk="id_aut_oferta" />
			</fk>
			<fk name="fk_ofertas_areascon" to_schema="ofertas" to_table="areas_conocimiento" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_areaconocimiento" pk="id_aut_areaconocimiento" />
			</fk>
		</table>
		<table name="ofertas_idiomas" >
			<column name="id_oferta" type="integer" jt="4" mandatory="y" />
			<column name="id_idioma" type="integer" jt="4" mandatory="y" />
			<column name="nivel_escritura" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="nivel_lectura" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="nivel_conversacion" type="varchar" length="20" jt="12" mandatory="y" />
			<index name="idx_ofertas_idiomas" unique="PRIMARY_KEY" >
				<column name="id_oferta" />
				<column name="id_idioma" />
			</index>
			<fk name="fk_ofertas_idiomas_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_oferta" pk="id_aut_oferta" />
			</fk>
			<fk name="fk_ofertas_idiomas_idiomas" to_schema="ofertas" to_table="idiomas" >
				<fk_column name="id_idioma" pk="id_aut_idioma" />
			</fk>
		</table>
		<table name="ofertas_software" >
			<column name="id_software" type="serial" jt="4" mandatory="y" />
			<column name="id_oferta" type="integer" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="nivel" type="varchar" length="20" jt="12" mandatory="y" />
			<index name="idx_ofertas_software" unique="PRIMARY_KEY" >
				<column name="id_software" />
			</index>
			<fk name="fk_ofertas_software_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_oferta" pk="id_aut_oferta" />
			</fk>
		</table>
		<table name="padres" >
			<column name="id_aut_padre" type="serial" jt="4" mandatory="y" />
			<column name="nombres" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="apellidos" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="correo" type="varchar" length="60" jt="12" />
			<column name="telefono" type="varchar" length="16" jt="12" mandatory="y" />
			<column name="id_nivel_estudio" type="integer" jt="4" mandatory="y" />
			<column name="id_egresado" type="integer" jt="4" mandatory="y" />
			<column name="id_programa" type="integer" jt="4" mandatory="y" />
			<index name="pk_contactos_id" unique="PRIMARY_KEY" >
				<column name="id_aut_padre" />
			</index>
		</table>
		<table name="pais" >
			<column name="id_aut_pais" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" mandatory="y" />
			<index name="pk_pais_id_pais" unique="PRIMARY_KEY" >
				<column name="id_aut_pais" />
			</index>
			<index name="idx_pais" unique="UNIQUE" >
				<column name="nombre" />
			</index>
		</table>
		<table name="participa" >
			<column name="id_egresado" type="integer" jt="4" mandatory="y" />
			<column name="id_evento" type="integer" jt="4" mandatory="y" />
			<column name="como_se_entero" type="varchar" length="50" jt="12" mandatory="y" />
			<index name="idx_participa" unique="PRIMARY_KEY" >
				<column name="id_egresado" />
				<column name="id_evento" />
			</index>
			<fk name="fk_participa_egresados" to_schema="ofertas" to_table="egresados" >
				<fk_column name="id_egresado" pk="id_aut_egresado" />
			</fk>
			<fk name="fk_participa_evento" to_schema="ofertas" to_table="evento" >
				<fk_column name="id_evento" pk="id_aut_evento" />
			</fk>
		</table>
		<table name="postulaciones" >
			<column name="id_aut_egresado" type="integer" jt="4" mandatory="y" />
			<column name="id_aut_oferta" type="integer" jt="4" mandatory="y" />
			<column name="fecha_postulacion" type="date" jt="91" mandatory="y" >
				<defo>current_date</defo>
			</column>
			<column name="fecha_revision_empresa" type="date" jt="91" />
			<column name="estado" type="varchar" length="30" jt="12" />
			<index name="idx_postulaciones" unique="PRIMARY_KEY" >
				<column name="id_aut_egresado" />
				<column name="id_aut_oferta" />
			</index>
			<index name="unq_postulaciones_id_aut_egresado" unique="UNIQUE" >
				<column name="id_aut_egresado" />
			</index>
			<fk name="fk_postulaciones_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_aut_oferta" pk="id_aut_oferta" />
			</fk>
			<fk name="fk_postulaciones_egresados" to_schema="ofertas" to_table="egresados" >
				<fk_column name="id_aut_egresado" pk="id_aut_egresado" />
			</fk>
		</table>
		<table name="postulaciones_respuestas" >
			<column name="id_egresado" type="integer" jt="4" mandatory="y" />
			<column name="id_pregunta" type="integer" jt="4" mandatory="y" />
			<column name="respuesta" type="text" jt="12" mandatory="y" />
			<index name="idx_postulaciones_respuestas" unique="PRIMARY_KEY" >
				<column name="id_egresado" />
				<column name="id_pregunta" />
			</index>
			<fk name="fk_postulaciones_respuestas_postulaciones" to_schema="ofertas" to_table="postulaciones" >
				<fk_column name="id_egresado" pk="id_aut_egresado" />
			</fk>
			<fk name="fk_postulaciones_respuestas_preguntas_oferta" to_schema="ofertas" to_table="preguntas_oferta" >
				<fk_column name="id_pregunta" pk="id_aut_pregunta" />
			</fk>
		</table>
		<table name="preguntas_oferta" >
			<column name="id_aut_pregunta" type="serial" jt="4" mandatory="y" />
			<column name="pregunta" type="text" jt="12" mandatory="y" />
			<column name="id_oferta" type="integer" jt="4" mandatory="y" />
			<index name="pk_preguntas_oferta_id_aut_pregunta" unique="PRIMARY_KEY" >
				<column name="id_aut_pregunta" />
			</index>
			<fk name="fk_preguntas_oferta_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_oferta" pk="id_aut_oferta" />
			</fk>
		</table>
		<table name="programas" >
			<column name="id_aut_programa" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="id_facultad" type="integer" jt="4" />
			<column name="id_sede" type="integer" jt="4" />
			<column name="id_nivelestudio" type="integer" jt="4" />
			<column name="id_titulo" type="integer" jt="4" />
			<index name="pk_programas_id" unique="PRIMARY_KEY" >
				<column name="id_aut_programa" />
			</index>
			<index name="unq_programas_id_titulo" unique="UNIQUE" >
				<column name="id_titulo" />
			</index>
			<index name="unq_programas_id_facultad" unique="UNIQUE" >
				<column name="id_facultad" />
			</index>
			<fk name="fk_programas_programas" to_schema="ofertas" to_table="sede" >
				<fk_column name="id_sede" pk="id_aut_sede" />
			</fk>
			<fk name="fk_programas_niveles_estudio" to_schema="ofertas" to_table="niveles_estudio" >
				<fk_column name="id_nivelestudio" pk="id_aut_estudio" />
			</fk>
			<fk name="fk_programas_titulo" to_schema="ofertas" to_table="titulo" >
				<fk_column name="id_titulo" pk="id_aut_titulo" />
			</fk>
			<fk name="fk_programas_facultades" to_schema="ofertas" to_table="facultades" >
				<fk_column name="id_facultad" pk="id_aut_facultad" />
			</fk>
		</table>
		<table name="programas_ofertas" >
			<column name="id_oferta" type="integer" jt="4" mandatory="y" />
			<column name="id_programa" type="integer" jt="4" mandatory="y" />
			<index name="idx_programas_ofertas" unique="PRIMARY_KEY" >
				<column name="id_oferta" />
				<column name="id_programa" />
			</index>
			<fk name="fk_programas_ofertas_programas" to_schema="ofertas" to_table="programas" >
				<fk_column name="id_programa" pk="id_aut_programa" />
			</fk>
			<fk name="fk_programas_ofertas_ofertas" to_schema="ofertas" to_table="ofertas" >
				<fk_column name="id_oferta" pk="id_aut_oferta" />
			</fk>
		</table>
		<table name="recepcion_hv" >
			<column name="id_aut_recepcionhv" type="serial" jt="4" mandatory="y" />
			<column name="id_oferta" type="integer" jt="4" mandatory="y" />
			<column name="correo" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="nombres" type="varchar" length="30" jt="12" mandatory="y" />
			<column name="apellidos" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="telefono_movil" type="varchar" length="16" jt="12" mandatory="y" />
			<index name="pk_recepcion_hv_id_aut_recepcionhv" unique="PRIMARY_KEY" >
				<column name="id_aut_recepcionhv" />
			</index>
			<fk name="fk_recepcion_hv_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_oferta" pk="id_aut_oferta" />
			</fk>
		</table>
		<table name="referidos" >
			<column name="id_aut_referido" type="serial" jt="4" mandatory="y" />
			<column name="id_egresado" type="integer" jt="4" />
			<column name="nombres" type="varchar" length="100" jt="12" mandatory="y" />
			<column name="id_nivel_educativo" type="integer" jt="4" />
			<column name="telefono_movil" type="varchar" length="16" jt="12" mandatory="y" />
			<column name="correo" type="varchar" length="60" jt="12" />
			<column name="parentesco" type="varchar" length="40" jt="12" />
			<column name="id_aut_programa" type="integer" jt="4" />
			<column name="es_egresado" type="bool" jt="-7" />
			<index name="pk_referidos_id" unique="PRIMARY_KEY" >
				<column name="id_aut_referido" />
			</index>
			<fk name="fk_referidos_niveles_estudio" to_schema="ofertas" to_table="niveles_estudio" >
				<fk_column name="id_nivel_educativo" pk="id_aut_estudio" />
			</fk>
			<fk name="fk_referidos_programas" to_schema="ofertas" to_table="programas" >
				<fk_column name="id_aut_programa" pk="id_aut_programa" />
			</fk>
		</table>
		<table name="referidos_egresados" >
			<column name="id_egresados" type="integer" jt="4" mandatory="y" />
			<column name="id_referidos" type="integer" jt="4" mandatory="y" />
			<index name="idx_referidos_egresados" unique="PRIMARY_KEY" >
				<column name="id_egresados" />
				<column name="id_referidos" />
			</index>
			<fk name="fk_referidos_egresados_egresados" to_schema="ofertas" to_table="egresados" >
				<fk_column name="id_egresados" pk="id_aut_egresado" />
			</fk>
			<fk name="fk_referidos_egresados_referidos" to_schema="ofertas" to_table="referidos" >
				<fk_column name="id_referidos" pk="id_aut_referido" />
			</fk>
		</table>
		<table name="representante_empresa" >
			<column name="id_aut_representante_empresa" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="apellidos" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="id_empresa" type="integer" jt="4" mandatory="y" />
			<column name="telefono" type="varchar" length="16" jt="12" />
			<column name="telefono_movil" type="varchar" length="16" jt="12" mandatory="y" />
			<index name="pk_table_0_id_aut_administrador_empresa" unique="PRIMARY_KEY" >
				<column name="id_aut_representante_empresa" />
			</index>
			<index name="idx_administrador_empresa" unique="UNIQUE" >
				<column name="id_empresa" />
			</index>
			<fk name="fk_representante_empresa" to_schema="ofertas" to_table="empresas" >
				<fk_column name="id_empresa" pk="id_aut_empresa" />
			</fk>
		</table>
		<table name="roles" >
			<column name="id_aut_rol" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="30" jt="12" mandatory="y" />
			<index name="pk_roles_id" unique="PRIMARY_KEY" >
				<column name="id_aut_rol" />
			</index>
		</table>
		<table name="salarios" >
			<column name="id_aut_salario" type="serial" jt="4" mandatory="y" />
			<column name="minimo" type="integer" jt="4" mandatory="y" />
			<column name="maximo" type="integer" jt="4" mandatory="y" />
			<column name="forma_pago" type="varchar" length="20" jt="12" mandatory="y" />
			<index name="pk_salarios_id_aut_salario" unique="PRIMARY_KEY" >
				<column name="id_aut_salario" />
			</index>
		</table>
		<table name="sectores" >
			<column name="id_aut_sector" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" mandatory="y" />
			<index name="pk_table_0_id_aut_cate_sectores" unique="PRIMARY_KEY" >
				<column name="id_aut_sector" />
			</index>
			<index name="idx_sectores" unique="UNIQUE" >
				<column name="nombre" />
			</index>
		</table>
		<table name="sede" >
			<column name="id_aut_sede" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" mandatory="y" />
			<index name="pk_sede_id_aut_sede" unique="PRIMARY_KEY" >
				<column name="id_aut_sede" />
			</index>
		</table>
		<table name="solicita" >
			<column name="id_carnetizacion" type="integer" jt="4" mandatory="y" />
			<column name="id_egresado" type="integer" jt="4" mandatory="y" />
			<index name="idx_solicita" unique="PRIMARY_KEY" >
				<column name="id_carnetizacion" />
				<column name="id_egresado" />
			</index>
			<fk name="fk_solicita_carnetizacion" to_schema="ofertas" to_table="carnetizacion" >
				<fk_column name="id_carnetizacion" pk="id_aut_carnetizacion" />
			</fk>
			<fk name="fk_solicita_egresados" to_schema="ofertas" to_table="egresados" >
				<fk_column name="id_egresado" pk="id_aut_egresado" />
			</fk>
		</table>
		<table name="sub_sectores" >
			<column name="id_aut_sub_sector" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="100" jt="12" mandatory="y" />
			<column name="id_sectores" type="integer" jt="4" mandatory="y" />
			<index name="pk_sectores_id" unique="PRIMARY_KEY" >
				<column name="id_aut_sub_sector" />
			</index>
			<fk name="fk_sectores_cate_sectores" to_schema="ofertas" to_table="sectores" >
				<fk_column name="id_sectores" pk="id_aut_sector" />
			</fk>
		</table>
		<table name="tipo_de_observacion" >
			<column name="id_aut_comentario" type="serial" jt="4" mandatory="y" />
			<column name="sugerencia_programa" type="text" jt="12" mandatory="y" />
			<column name="opinio_universidad_futuro" type="text" jt="12" mandatory="y" />
			<column name="nombre_docente_influyo" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="id_grado" type="integer" jt="4" mandatory="y" />
			<index name="pk_comentarios_id" unique="PRIMARY_KEY" >
				<column name="id_aut_comentario" />
			</index>
			<fk name="fk_tipo_de_observacion_grados" to_schema="ofertas" to_table="grados" >
				<fk_column name="id_grado" pk="id_tipo_de_comentarios" />
			</fk>
		</table>
		<table name="titulo" >
			<column name="id_aut_titulo" type="serial" jt="4" mandatory="y" />
			<column name="nombre" type="varchar" length="50" jt="12" mandatory="y" />
			<index name="pk_titulo_id_aut_titulo" unique="PRIMARY_KEY" >
				<column name="id_aut_titulo" />
			</index>
		</table>
		<table name="ubicacion_oferta" >
			<column name="id_oferta" type="integer" jt="4" mandatory="y" />
			<column name="id_ciudad" type="integer" jt="4" mandatory="y" />
			<index name="idx_ubicacion_oferta" unique="PRIMARY_KEY" >
				<column name="id_oferta" />
				<column name="id_ciudad" />
			</index>
			<fk name="fk_ubicacion_oferta_ofertas" to_schema="ofertas" to_table="ofertas" delete_action="cascade" update_action="cascade" >
				<fk_column name="id_oferta" pk="id_aut_oferta" />
			</fk>
			<fk name="fk_ubicacion_oferta_ciudades" to_schema="ofertas" to_table="ciudades" >
				<fk_column name="id_ciudad" pk="id_aut_ciudad" />
			</fk>
		</table>
		<table name="users" >
			<column name="id_aut_user" type="serial" jt="4" mandatory="y" />
			<column name="email" type="varchar" length="60" jt="12" mandatory="y" />
			<column name="password" type="varchar" length="128" jt="12" />
			<column name="id_rol" type="integer" jt="4" mandatory="y" />
			<column name="codigo_verificacion" type="varchar" length="60" jt="12" />
			<column name="activo" type="bool" jt="-7" mandatory="y" >
				<defo>false</defo>
			</column>
			<index name="pk_users_id" unique="PRIMARY_KEY" >
				<column name="id_aut_user" />
			</index>
			<fk name="fk_users_roles" to_schema="ofertas" to_table="roles" >
				<fk_column name="id_rol" pk="id_aut_rol" />
			</fk>
		</table>
	</schema>
	<connector name="PostgreSQL" database="PostgreSQL" driver_class="org.postgresql.Driver" driver_jar="postgresql-42.2.7.jar" driver_desc="Standard" host="localhost" port="5432" instance="test" user="test" passwd="dGVzdA==" />
	<layout name="BDOFertas" id="Layout_2b6d324" show_relation="columns" >
		<comment><![CDATA[ofertas]]></comment>
		<entity schema="ofertas" name="referidos_egresados" color="C1D8EE" x="272" y="688" />
		<entity schema="ofertas" name="solicita" color="C1D8EE" x="960" y="768" />
		<entity schema="ofertas" name="tipo_de_observacion" color="C1D8EE" x="1184" y="912" />
		<entity schema="ofertas" name="empresas_sectores" color="C1D8EE" x="1808" y="784" />
		<entity schema="ofertas" name="sub_sectores" color="C1D8EE" x="1856" y="528" />
		<entity schema="ofertas" name="salarios" color="C1D8EE" x="976" y="1392" />
		<entity schema="ofertas" name="programas_ofertas" color="C1D8EE" x="704" y="1488" />
		<entity schema="ofertas" name="postulaciones_respuestas" color="C1D8EE" x="96" y="1488" />
		<entity schema="ofertas" name="cargos" color="C1D8EE" x="1024" y="144" />
		<entity schema="ofertas" name="sectores" color="3986C1" x="1744" y="288" />
		<entity schema="ofertas" name="administrador_empresa" color="C1D8EE" x="1488" y="368" />
		<entity schema="ofertas" name="pais" color="C1D8EE" x="1312" y="416" />
		<entity schema="ofertas" name="departamentos" color="C1D8EE" x="1120" y="368" />
		<entity schema="ofertas" name="ciudades" color="C1D8EE" x="880" y="384" />
		<entity schema="ofertas" name="roles" color="3986C1" x="608" y="64" />
		<entity schema="ofertas" name="referidos" color="C1D8EE" x="64" y="848" />
		<entity schema="ofertas" name="localizacion" color="C1D8EE" x="1024" y="608" />
		<entity schema="ofertas" name="users" color="C1D8EE" x="816" y="48" />
		<entity schema="ofertas" name="grados" color="C1D8EE" x="928" y="928" />
		<entity schema="ofertas" name="recepcion_hv" color="C1D8EE" x="1680" y="1568" />
		<entity schema="ofertas" name="areas_conocimiento" color="C1D8EE" x="1776" y="1440" />
		<entity schema="ofertas" name="contratos" color="C1D8EE" x="1552" y="1360" />
		<entity schema="ofertas" name="ofertas_areascon" color="C1D8EE" x="1760" y="1168" />
		<entity schema="ofertas" name="ofertas_idiomas" color="C1D8EE" x="1088" y="1568" />
		<entity schema="ofertas" name="ofertas_software" color="C1D8EE" x="1376" y="1632" />
		<entity schema="ofertas" name="preguntas_oferta" color="C1D8EE" x="464" y="1536" />
		<entity schema="ofertas" name="postulaciones" color="C1D8EE" x="352" y="992" />
		<entity schema="ofertas" name="ubicacion_oferta" color="C1D8EE" x="1056" y="1280" />
		<entity schema="ofertas" name="sede" color="C1D8EE" x="304" y="1424" />
		<entity schema="ofertas" name="idiomas" color="C1D8EE" x="848" y="1600" />
		<entity schema="ofertas" name="representante_empresa" color="3986C1" x="1392" y="64" />
		<entity schema="ofertas" name="evento" color="C1D8EE" x="80" y="512" />
		<entity schema="ofertas" name="participa" color="C1D8EE" x="368" y="432" />
		<entity schema="ofertas" name="empresas" color="C1D8EE" x="1440" y="704" />
		<entity schema="ofertas" name="experiencia" color="C1D8EE" x="544" y="208" />
		<entity schema="ofertas" name="ofertas" color="C1D8EE" x="1264" y="1184" />
		<entity schema="ofertas" name="titulo" color="C1D8EE" x="48" y="1248" />
		<entity schema="ofertas" name="egresados" color="008080" x="656" y="656" />
		<entity schema="ofertas" name="programas" color="C1D8EE" x="304" y="1232" />
		<entity schema="ofertas" name="facultades" color="C1D8EE" x="688" y="1056" />
		<entity schema="ofertas" name="niveles_estudio" color="C1D8EE" x="336" y="848" />
		<entity schema="ofertas" name="carnetizacion" color="C1D8EE" x="1200" y="768" />
		<entity schema="ofertas" name="discapacidades" color="C1D8EE" x="624" y="1376" />
		<entity schema="ofertas" name="egresados_discapacidades" color="C1D8EE" x="592" y="1216" />
		<script name="SQL_Editor" id="Editor_1609c3d" language="SQL" >
			<string><![CDATA[CREATE SCHEMA ofertas;

CREATE  TABLE ofertas.areas_conocimiento ( 
	id_aut_areaconocimiento integer  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	CONSTRAINT pk_areas_conocimiento_id PRIMARY KEY ( id_aut_areaconocimiento )
 );

CREATE  TABLE ofertas.categoria ( 
	id_aut_categoria     integer  NOT NULL ,
	nombre               varchar(40)   ,
	CONSTRAINT pk_categoria_id PRIMARY KEY ( id_aut_categoria )
 );

CREATE  TABLE ofertas.categorias_sectores ( 
	id_aut_cate_sectores integer  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_cate_sectores PRIMARY KEY ( id_aut_cate_sectores )
 );

CREATE  TABLE ofertas.evento ( 
	id_aut_evento        integer  NOT NULL ,
	nombre               text  NOT NULL ,
	fecha_inicio         date   ,
	fecha_fin            date   ,
	lugar                text   ,
	descripcion          text   ,
	cupos                numeric   ,
	a_quien_va_dirigida  text   ,
	CONSTRAINT pk_evento_id_evento PRIMARY KEY ( id_aut_evento )
 );

CREATE  TABLE ofertas.invitado ( 
	id_aut_invitado      integer  NOT NULL ,
	nombre               text   ,
	apellido             text   ,
	correo               text   ,
	CONSTRAINT pk_invitado_id_invitado PRIMARY KEY ( id_aut_invitado )
 );

CREATE  TABLE ofertas.niveles_estudio ( 
	id_aut_estudio       integer  NOT NULL ,
	nombre               text DEFAULT 100 NOT NULL ,
	CONSTRAINT pk_niveles_estudio_id PRIMARY KEY ( id_aut_estudio ),
	CONSTRAINT idx_niveles_estudio_nombre UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.padres ( 
	id_aut_padre         integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	correo               varchar(60)   ,
	telefono             varchar(16)  NOT NULL ,
	id_nivel_estudio     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT pk_contactos_id PRIMARY KEY ( id_aut_padre )
 );

CREATE  TABLE ofertas.pais ( 
	id_aut_pais          integer  NOT NULL ,
	nombre               text DEFAULT 50 NOT NULL ,
	CONSTRAINT pk_pais_id_pais PRIMARY KEY ( id_aut_pais )
 );

CREATE  TABLE ofertas.participante ( 
	id_aut_evento        integer  NOT NULL ,
	id_aut_invitado      integer  NOT NULL ,
	como_se_entero       text DEFAULT 100 NOT NULL ,
	CONSTRAINT idx_participante PRIMARY KEY ( id_aut_evento, id_aut_invitado ),
	CONSTRAINT fk_participante_evento FOREIGN KEY ( id_aut_evento ) REFERENCES ofertas.evento( id_aut_evento )  ,
	CONSTRAINT fk_participante_invitado FOREIGN KEY ( id_aut_invitado ) REFERENCES ofertas.invitado( id_aut_invitado )  
 );

CREATE  TABLE ofertas.roles ( 
	id_aut_rol           integer  NOT NULL ,
	nombre               varchar(30)   ,
	CONSTRAINT pk_roles_id PRIMARY KEY ( id_aut_rol )
 );

CREATE  TABLE ofertas.sectores ( 
	id_aut_sectore       integer  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	id_cate_sectores     integer  NOT NULL ,
	CONSTRAINT pk_sectores_id PRIMARY KEY ( id_aut_sectore ),
	CONSTRAINT fk_sectores_cate_sectores FOREIGN KEY ( id_cate_sectores ) REFERENCES ofertas.categorias_sectores( id_aut_cate_sectores )  
 );

CREATE  TABLE ofertas."table" ( 
	id                   integer  NOT NULL ,
	nombre               varchar(30)   ,
	CONSTRAINT pk_table_id PRIMARY KEY ( id )
 );

CREATE  TABLE ofertas.table_0 ( 
 );

CREATE  TABLE ofertas.table_1 ( 
	id_evento            integer  NOT NULL ,
	id_invitado          integer   ,
	CONSTRAINT pk_table_1_id_evento PRIMARY KEY ( id_evento )
 );

CREATE  TABLE ofertas.users ( 
	id_aut_user          integer  NOT NULL ,
	email                varchar(60)   ,
	"password"           varchar(60)   ,
	id_rol               integer   ,
	first_name           varchar(100)   ,
	last_name            varchar(100)   ,
	CONSTRAINT pk_users_id PRIMARY KEY ( id_aut_user ),
	CONSTRAINT fk_users_roles FOREIGN KEY ( id_rol ) REFERENCES ofertas.roles( id_aut_rol )  
 );

CREATE  TABLE ofertas.cargos ( 
	id_aut_cargos        integer  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	id_categoria         integer   ,
	CONSTRAINT pk_cargos_id_0 PRIMARY KEY ( id_aut_cargos ),
	CONSTRAINT fk_cargos_cargos FOREIGN KEY ( id_categoria ) REFERENCES ofertas.categoria( id_aut_categoria )  
 );

CREATE  TABLE ofertas.departamentos ( 
	id_aut_dep           integer  NOT NULL ,
	nombre               varchar(40)   ,
	id_pais_fk           integer  NOT NULL ,
	CONSTRAINT pk_departamento_id PRIMARY KEY ( id_aut_dep ),
	CONSTRAINT fk_departamentos_pais FOREIGN KEY ( id_pais_fk ) REFERENCES ofertas.pais( id_aut_pais )  
 );

CREATE  TABLE ofertas.ciudades ( 
	id_aut_ciudad        integer  NOT NULL ,
	nombre               varchar(30)   ,
	id_departamento      integer   ,
	CONSTRAINT pk_ciudades_id PRIMARY KEY ( id_aut_ciudad ),
	CONSTRAINT idx_ciudades UNIQUE ( nombre ) ,
	CONSTRAINT fk_ciudades_departamentos FOREIGN KEY ( id_departamento ) REFERENCES ofertas.departamentos( id_aut_dep )  
 );

CREATE  TABLE ofertas.localizacion ( 
	id_aut_localizacion  integer  NOT NULL ,
	codigo_postal        integer   ,
	direcccion           varchar(100)   ,
	barrio               varchar(40)   ,
	id_ciudad            integer   ,
	CONSTRAINT pk_localizacion_id PRIMARY KEY ( id_aut_localizacion ),
	CONSTRAINT fk_localizacion_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.nacimiento ( 
	id_aut_lugar_nac     integer  NOT NULL ,
	fecha_nacimiento     date   ,
	id_ciudad_fk         integer  NOT NULL ,
	CONSTRAINT pk_nacimiento_id_lugar_nac PRIMARY KEY ( id_aut_lugar_nac ),
	CONSTRAINT fk_nacimiento_ciudades FOREIGN KEY ( id_ciudad_fk ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.egresados ( 
	id_aut_egresado      integer  NOT NULL ,
	identificacion       integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	genero               varchar(20)  NOT NULL ,
	id_lugar_expedicion  integer  NOT NULL ,
	id_luagr_residencia  integer  NOT NULL ,
	id_nivel_educativo   integer  NOT NULL ,
	num_hijos            smallint DEFAULT 0 NOT NULL ,
	id_nacimiento_fk     integer  NOT NULL ,
	estado               bool DEFAULT 0  ,
	ultimo_semestre      bool   ,
	correo               varchar(100)  NOT NULL ,
	correo_alternativo   varchar(100)  NOT NULL ,
	estado_civil         bool  NOT NULL ,
	ha_trabajado         bool  NOT NULL ,
	trabaja_actualmente  bool  NOT NULL ,
	CONSTRAINT pk_egresados_id PRIMARY KEY ( id_aut_egresado ),
	CONSTRAINT fk_egresados_ciudades FOREIGN KEY ( id_lugar_expedicion ) REFERENCES ofertas.ciudades( id_aut_ciudad )  ,
	CONSTRAINT fk_egresados_localizacion FOREIGN KEY ( id_luagr_residencia ) REFERENCES ofertas.localizacion( id_aut_localizacion )  ,
	CONSTRAINT fk_egresados_nacimiento FOREIGN KEY ( id_nacimiento_fk ) REFERENCES ofertas.nacimiento( id_aut_lugar_nac )  ,
	CONSTRAINT fk_egresados_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  
 );

CREATE  TABLE ofertas.empresas ( 
	id_aut_empresa       integer  NOT NULL ,
	nit                  varchar(15)  NOT NULL ,
	nombre               varchar(100)   ,
	razon_social         varchar(200)   ,
	anio_creacion        smallint  NOT NULL ,
	numero_empleados     integer   ,
	ingresos             bigint   ,
	sitio_web            varchar(200)   ,
	id_direccion         integer   ,
	estado               bool   ,
	fecha_registro       date   ,
	fecha_activacion     date   ,
	total_publicaciones  integer   ,
	limite_publicaciones integer   ,
	num_publicaciones_actuales integer   ,
	CONSTRAINT pk_empresas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT idx_empresas_unique_nombre UNIQUE ( nombre ) ,
	CONSTRAINT idx_empresas_unique_nit UNIQUE ( nit ) ,
	CONSTRAINT fk_empresas_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion )  
 );

CREATE  TABLE ofertas.empresas_sectores ( 
	id_empresa           integer  NOT NULL ,
	id_sector            integer  NOT NULL ,
	CONSTRAINT idx_empresas_sectores PRIMARY KEY ( id_empresa, id_sector ),
	CONSTRAINT fk_empresas_sectores_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_empresas_sectores_sector FOREIGN KEY ( id_sector ) REFERENCES ofertas.sectores( id_aut_sectore )  
 );

CREATE  TABLE ofertas.experiencia ( 
	id_aut_exp           integer  NOT NULL ,
	id_egresado          integer   ,
	id_cargo             integer  NOT NULL ,
	nombre_jefe          varchar(60)  NOT NULL ,
	telefono_jefe        varchar(16)   ,
	correo_jefe          varchar(60)  NOT NULL ,
	nombre_empresa       text DEFAULT 100 NOT NULL ,
	dir_empresa          text DEFAULT 100  ,
	tel_trabajo          integer   ,
	rango_salario        text DEFAULT 100  ,
	tipo_contrato        text DEFAULT 50  ,
	trabajo_en_su_area   bool   ,
	sector               bool   ,
	CONSTRAINT pk_cargos_id PRIMARY KEY ( id_aut_exp ),
	CONSTRAINT fk_cargos_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_experiencia_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  
 );

COMMENT ON COLUMN ofertas.experiencia.sector IS 'Publico=0\nPrivado=1';

CREATE  TABLE ofertas.facultades ( 
	id_aut_facultad      integer  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	acronimo             varchar(20)  NOT NULL ,
	id_direccion         integer   ,
	CONSTRAINT pk_facultades_id PRIMARY KEY ( id_aut_facultad ),
	CONSTRAINT fk_facultades_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion )  
 );

CREATE  TABLE ofertas.ofertas ( 
	id_aut_empresa       integer  NOT NULL ,
	id_empresa           integer   ,
	nombre               varchar(100)  NOT NULL ,
	descripcion          text   ,
	id_cargo             integer   ,
	tipo_contrato        varchar(30)  NOT NULL ,
	numero_vacantes      integer DEFAULT 1  ,
	salario              double precision(0,0)   ,
	experiencia          varchar   ,
	fecha_publicacion    date   ,
	fecha_cierre         date   ,
	estado               bool   ,
	CONSTRAINT pk_ofertas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT fk_ofertas_empresas FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_ofertas_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  
 );

CREATE  TABLE ofertas.ofertas_areascon ( 
	id_aut_oferta        integer  NOT NULL ,
	id_areaconocimiento  integer  NOT NULL ,
	CONSTRAINT idx_ofertas_areascon PRIMARY KEY ( id_aut_oferta, id_areaconocimiento ),
	CONSTRAINT fk_ofertas_areascon_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_empresa )  ,
	CONSTRAINT fk_ofertas_areascon FOREIGN KEY ( id_areaconocimiento ) REFERENCES ofertas.areas_conocimiento( id_aut_areaconocimiento )  
 );

CREATE  TABLE ofertas.postulaciones ( 
	id_aut_egresado      integer  NOT NULL ,
	id_aut_oferta        integer  NOT NULL ,
	fecha_postulacion    date   ,
	fecha_revision_empresa date   ,
	estado               varchar(30)   ,
	CONSTRAINT idx_postulaciones PRIMARY KEY ( id_aut_egresado, id_aut_oferta ),
	CONSTRAINT fk_postulaciones_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_empresa )  ,
	CONSTRAINT fk_postulaciones_egresados FOREIGN KEY ( id_aut_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.programas ( 
	id_aut_programa      integer  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	acronimo             varchar(20)   ,
	id_facultad          integer   ,
	CONSTRAINT pk_programas_id PRIMARY KEY ( id_aut_programa ),
	CONSTRAINT fk_programas_facultades FOREIGN KEY ( id_facultad ) REFERENCES ofertas.facultades( id_aut_facultad )  
 );

CREATE  TABLE ofertas.referidos ( 
	id_aut_referido      integer  NOT NULL ,
	id_egresado          integer   ,
	nombres              varchar(100)  NOT NULL ,
	apellidos            varchar(60)   ,
	id_nivel_educativo   integer  NOT NULL ,
	telefono_movil       varchar(16)   ,
	correo               varchar(60)   ,
	parentesco           varchar(40)   ,
	id_aut_programa      integer   ,
	CONSTRAINT pk_referidos_id PRIMARY KEY ( id_aut_referido ),
	CONSTRAINT fk_referidos_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_referidos_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  ,
	CONSTRAINT fk_referidos_programas FOREIGN KEY ( id_aut_programa ) REFERENCES ofertas.programas( id_aut_programa )  
 );

CREATE  TABLE ofertas.representante_empresa ( 
	id_aut_representante integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	id_cargo             integer   ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)   ,
	correo_corporativo   varchar(60)   ,
	id_direccion         integer   ,
	id_empresa           integer   ,
	CONSTRAINT pk_representante_legal_id PRIMARY KEY ( id_aut_representante ),
	CONSTRAINT fk_representante_legal_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion )  ,
	CONSTRAINT fk_representante_legal_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  
 );

CREATE  TABLE ofertas.comentarios ( 
	id_aut_comentario    integer  NOT NULL ,
	sugerencia_programa  text  NOT NULL ,
	opinio_universidad_futuro text  NOT NULL ,
	nombre_docente_influyo varchar(60)  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	CONSTRAINT pk_comentarios_id PRIMARY KEY ( id_aut_comentario ),
	CONSTRAINT fk_comentarios_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.grados ( 
	id_num_acta          integer DEFAULT 50 NOT NULL ,
	tipo_grado           varchar(60)   ,
	mencion_honor        bool   ,
	titulo_especial      varchar(100)   ,
	comentarios          text   ,
	fecha_graduacion     date   ,
	id_programa          integer  NOT NULL ,
	id_estudiante        integer  NOT NULL ,
	CONSTRAINT idx_grados PRIMARY KEY ( id_programa, id_estudiante ),
	CONSTRAINT fk_grados_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa )  ,
	CONSTRAINT fk_grados_egresados FOREIGN KEY ( id_estudiante ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );]]></string>
		</script>
		<script name="SQL_Editor_001" id="Editor_1acf231" language="SQL" >
			<string><![CDATA[CREATE SCHEMA ofertas;

CREATE DOMAIN ofertas.estado_empresa check ();

CREATE  TABLE ofertas.empresas ( 
	id_aut_empresa       integer  NOT NULL ,
	nit                  varchar(15)  NOT NULL ,
	nombre               varchar(100)   ,
	razon_social         varchar(200)  NOT NULL ,
	anio_creacion        smallint  NOT NULL ,
	numero_empleados     integer  NOT NULL ,
	ingresos             varchar(30)   ,
	sitio_web            varchar(200)   ,
	id_direccion         integer  NOT NULL ,
	estado               estado_empresa('Activo','Inactivo','Espera')   ,
	fecha_registro       date   ,
	fecha_activacion     date   ,
	total_publicaciones  integer   ,
	limite_publicaciones integer   ,
	num_publicaciones_actuales integer   ,
	CONSTRAINT pk_empresas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT idx_empresas_unique_nombre UNIQUE ( nombre ) ,
	CONSTRAINT idx_empresas_unique_nit UNIQUE ( nit ) 
 );]]></string>
		</script>
		<script name="SQL_Editor_002" id="Editor_409073b" language="SQL" >
			<string><![CDATA[CREATE SCHEMA ofertas;

CREATE  TABLE ofertas.areas_conocimiento ( 
	id_aut_areaconocimiento serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	CONSTRAINT pk_areas_conocimiento_id PRIMARY KEY ( id_aut_areaconocimiento )
 );

CREATE  TABLE ofertas.cargos ( 
	id_aut_cargos        serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	estado               bool DEFAULT false  ,
	CONSTRAINT pk_cargos_id_0 PRIMARY KEY ( id_aut_cargos )
 );

CREATE  TABLE ofertas.carnetizacion ( 
	id_aut_carnetizacion integer  NOT NULL ,
	estado_solicitud     varchar(50)  NOT NULL ,
	CONSTRAINT pk_carnetizacion_id_aut_carnetizacion PRIMARY KEY ( id_aut_carnetizacion )
 );

CREATE  TABLE ofertas.discapacidades ( 
	id_aut_discapacidades serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_discapacidades_id_aut_discapacidades PRIMARY KEY ( id_aut_discapacidades )
 );

CREATE  TABLE ofertas.evento ( 
	id_aut_evento        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	fecha_inicio         date   ,
	fecha_fin            date   ,
	lugar                text   ,
	descripcion          varchar(50)   ,
	cupos                numeric   ,
	a_quien_va_dirigida  varchar(50)   ,
	CONSTRAINT pk_evento_id_evento PRIMARY KEY ( id_aut_evento )
 );

CREATE  TABLE ofertas.facultades ( 
	id_aut_facultad      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	CONSTRAINT pk_facultades_id PRIMARY KEY ( id_aut_facultad )
 );

CREATE  TABLE ofertas.idiomas ( 
	id_aut_idioma        serial  NOT NULL ,
	nombre               varchar(20)  NOT NULL ,
	CONSTRAINT pk_idiomas_id_aut_idioma PRIMARY KEY ( id_aut_idioma ),
	CONSTRAINT idx_idiomas UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.nivel_programa ( 
	id_aut_nivprogra     serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	CONSTRAINT pk_nivel_programa_id_aut_nivprogra PRIMARY KEY ( id_aut_nivprogra ),
	CONSTRAINT idx_nivel_programa UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.niveles_estudio ( 
	id_aut_estudio       serial  NOT NULL ,
	nombre               varchar(50) DEFAULT 100 NOT NULL ,
	pertenece_u          bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_niveles_estudio_id PRIMARY KEY ( id_aut_estudio ),
	CONSTRAINT idx_niveles_estudio_nombre UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.padres ( 
	id_aut_padre         serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	correo               varchar(60)   ,
	telefono             varchar(16)  NOT NULL ,
	id_nivel_estudio     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT pk_contactos_id PRIMARY KEY ( id_aut_padre )
 );

CREATE  TABLE ofertas.pais ( 
	id_aut_pais          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_pais_id_pais PRIMARY KEY ( id_aut_pais ),
	CONSTRAINT idx_pais UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.roles ( 
	id_aut_rol           serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_roles_id PRIMARY KEY ( id_aut_rol )
 );

CREATE  TABLE ofertas.salarios ( 
	id_aut_salario       serial  NOT NULL ,
	minimo               integer  NOT NULL ,
	maximo               integer  NOT NULL ,
	forma_pago           varchar(20)  NOT NULL ,
	CONSTRAINT pk_salarios_id_aut_salario PRIMARY KEY ( id_aut_salario )
 );

CREATE  TABLE ofertas.sectores ( 
	id_aut_sector        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_cate_sectores PRIMARY KEY ( id_aut_sector ),
	CONSTRAINT idx_sectores UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.sede ( 
	id_aut_sede          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_sede_id_aut_sede PRIMARY KEY ( id_aut_sede )
 );

CREATE  TABLE ofertas.sub_sectores ( 
	id_aut_sub_sector    serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	id_sectores          integer  NOT NULL ,
	CONSTRAINT pk_sectores_id PRIMARY KEY ( id_aut_sub_sector )
 );

CREATE  TABLE ofertas.titulo ( 
	id_aut_titulo        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_titulo_id_aut_titulo PRIMARY KEY ( id_aut_titulo )
 );

CREATE  TABLE ofertas.users ( 
	id_aut_user          serial  NOT NULL ,
	email                varchar(60)  NOT NULL ,
	"password"           varchar(128)   ,
	id_rol               integer  NOT NULL ,
	codigo_verificacion  varchar(60)   ,
	activo               bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_users_id PRIMARY KEY ( id_aut_user )
 );

CREATE  TABLE ofertas.departamentos ( 
	id_aut_dep           serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	id_pais_fk           integer  NOT NULL ,
	CONSTRAINT pk_departamento_id PRIMARY KEY ( id_aut_dep ),
	CONSTRAINT idx_departamentos UNIQUE ( nombre, id_pais_fk ) 
 );

CREATE  TABLE ofertas.programas ( 
	id_aut_programa      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	id_facultad          integer   ,
	id_sede              integer   ,
	id_nivelestudio      integer   ,
	id_titulo            integer   ,
	CONSTRAINT pk_programas_id PRIMARY KEY ( id_aut_programa ),
	CONSTRAINT unq_programas_id_titulo UNIQUE ( id_titulo ) ,
	CONSTRAINT unq_programas_id_facultad UNIQUE ( id_facultad ) 
 );

CREATE  TABLE ofertas.referidos ( 
	id_aut_referido      serial  NOT NULL ,
	id_egresado          integer   ,
	nombres              varchar(100)  NOT NULL ,
	id_nivel_educativo   integer   ,
	telefono_movil       varchar(16)  NOT NULL ,
	correo               varchar(60)   ,
	parentesco           varchar(40)   ,
	id_aut_programa      integer   ,
	es_egresado          bool   ,
	CONSTRAINT pk_referidos_id PRIMARY KEY ( id_aut_referido )
 );

CREATE  TABLE ofertas.ciudades ( 
	id_aut_ciudad        serial  NOT NULL ,
	nombre               varchar(50)   ,
	id_departamento      integer  NOT NULL ,
	CONSTRAINT pk_ciudades_id PRIMARY KEY ( id_aut_ciudad ),
	CONSTRAINT idx_ciudades UNIQUE ( nombre, id_departamento ) 
 );

CREATE  TABLE ofertas.localizacion ( 
	id_aut_localizacion  serial  NOT NULL ,
	codigo_postal        integer   ,
	direccion            varchar(100)  NOT NULL ,
	barrio               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT pk_localizacion_id PRIMARY KEY ( id_aut_localizacion )
 );

CREATE  TABLE ofertas.egresados ( 
	id_aut_egresado      serial  NOT NULL ,
	identificacion       integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	genero               varchar(20)  NOT NULL ,
	id_lugar_expedicion  integer   ,
	id_lugar_residencia  integer   ,
	id_nivel_educativo   integer   ,
	num_hijos            smallint DEFAULT 0  ,
	id_lugar_nacimiento  integer   ,
	fecha_nacimiento     date   ,
	estado               varchar(40)  NOT NULL ,
	correo               varchar(100)   ,
	correo_alternativo   varchar(100)   ,
	estado_civil         varchar(40)   ,
	ha_trabajado         bool   ,
	trabaja_actualmente  bool   ,
	id_aut_user          integer   ,
	grupo_etnico         varchar(40)   ,
	celular              varchar(16)   ,
	telefono_fijo        varchar(16)   ,
	CONSTRAINT pk_egresados_id PRIMARY KEY ( id_aut_egresado )
 );

CREATE  TABLE ofertas.egresados_discapacidades ( 
	id_egresado          integer  NOT NULL ,
	id_discapacidad      integer  NOT NULL ,
	descripcion          varchar(80)   ,
	CONSTRAINT idx_egresados_discapacidades PRIMARY KEY ( id_egresado, id_discapacidad )
 );

CREATE  TABLE ofertas.empresas ( 
	id_aut_empresa       serial  NOT NULL ,
	nit                  varchar(15)  NOT NULL ,
	nombre               varchar(100)   ,
	razon_social         varchar(200)  NOT NULL ,
	anio_creacion        smallint  NOT NULL ,
	numero_empleados     varchar(30)  NOT NULL ,
	ingresos             varchar(30)   ,
	sitio_web            varchar(200)   ,
	id_direccion         integer  NOT NULL ,
	estado               varchar(20)   ,
	fecha_registro       date DEFAULT current_date NOT NULL ,
	fecha_activacion     date   ,
	fecha_vencimiento    date   ,
	total_publicaciones  integer   ,
	limite_publicaciones integer   ,
	num_publicaciones_actuales integer   ,
	correo               varchar(60)   ,
	telefono             varchar(16)   ,
	url_logo             varchar(255)   ,
	url_doc_camaracomercio varchar(255)  NOT NULL ,
	descripcion          text   ,
	CONSTRAINT pk_empresas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT idx_empresas_unique_nombre UNIQUE ( nombre ) ,
	CONSTRAINT idx_empresas_unique_nit UNIQUE ( nit ) 
 );

CREATE  TABLE ofertas.empresas_sectores ( 
	id_empresa           integer  NOT NULL ,
	id_sub_sector        integer  NOT NULL ,
	CONSTRAINT idx_empresas_sectores PRIMARY KEY ( id_empresa, id_sub_sector )
 );

CREATE  TABLE ofertas.experiencia ( 
	id_aut_exp           serial  NOT NULL ,
	id_egresado          integer   ,
	id_cargo             integer  NOT NULL ,
	nombre_jefe          varchar(60)  NOT NULL ,
	telefono_jefe        varchar(16)   ,
	correo_jefe          varchar(60)  NOT NULL ,
	nombre_empresa       varchar(50) DEFAULT 100 NOT NULL ,
	dir_empresa          varchar(50) DEFAULT 100  ,
	tel_trabajo          integer   ,
	rango_salario        varchar(50) DEFAULT 100  ,
	tipo_contrato        varchar(50) DEFAULT 50  ,
	trabajo_en_su_area   bool   ,
	sector               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	fecha_inicio         date  NOT NULL ,
	fecha_fin            date   ,
	CONSTRAINT pk_cargos_id PRIMARY KEY ( id_aut_exp )
 );

COMMENT ON COLUMN ofertas.experiencia.sector IS 'Publico=0\nPrivado=1';

CREATE  TABLE ofertas.grados ( 
	id_num_acta          integer DEFAULT 50 NOT NULL ,
	tipo_grado           varchar(60)   ,
	mencion_honor        varchar(50)   ,
	titulo_especial      varchar(100)   ,
	id_tipo_de_comentarios integer   ,
	anio_graduacion      varchar(50)  NOT NULL ,
	fecha_graduacion     date   ,
	id_programa          integer  NOT NULL ,
	id_estudiante        integer  NOT NULL ,
	CONSTRAINT idx_grados PRIMARY KEY ( id_programa, id_estudiante ),
	CONSTRAINT unq_grados_id_tipo_de_comentarios UNIQUE ( id_tipo_de_comentarios ) 
 );

CREATE  TABLE ofertas.ofertas ( 
	id_aut_oferta        serial  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	nombre_oferta        varchar(100)  NOT NULL ,
	descripcion          text  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	numero_vacantes      integer DEFAULT 1 NOT NULL ,
	id_forma_pago        integer  NOT NULL ,
	experiencia          varchar(30)  NOT NULL ,
	anios_experiencia    smallint DEFAULT 0 NOT NULL ,
	fecha_publicacion    date   ,
	fecha_cierre         date   ,
	estado               varchar(20)  NOT NULL ,
	estado_proceso       varchar   ,
	id_sector            integer  NOT NULL ,
	nombre_temporal_empresa varchar(30)   ,
	licencia_conduccion  varchar(20)   ,
	requisitos_minimos   text  NOT NULL ,
	id_discapacidad      integer   ,
	num_dias_oferta      integer  NOT NULL ,
	id_aut_nivestud      integer  NOT NULL ,
	CONSTRAINT pk_ofertas_id PRIMARY KEY ( id_aut_oferta )
 );

CREATE  TABLE ofertas.ofertas_areascon ( 
	id_aut_oferta        integer  NOT NULL ,
	id_areaconocimiento  integer  NOT NULL ,
	CONSTRAINT idx_ofertas_areascon PRIMARY KEY ( id_aut_oferta, id_areaconocimiento )
 );

CREATE  TABLE ofertas.ofertas_idiomas ( 
	id_oferta            integer  NOT NULL ,
	id_idioma            integer  NOT NULL ,
	nivel_escritura      varchar(20)  NOT NULL ,
	nivel_lectura        varchar(20)  NOT NULL ,
	nivel_conversacion   varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_idiomas PRIMARY KEY ( id_oferta, id_idioma )
 );

CREATE  TABLE ofertas.ofertas_software ( 
	id_software          serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	nivel                varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_software PRIMARY KEY ( id_software )
 );

CREATE  TABLE ofertas.participa ( 
	id_egresado          integer  NOT NULL ,
	id_evento            integer  NOT NULL ,
	como_se_entero       varchar(50)  NOT NULL ,
	CONSTRAINT idx_participa PRIMARY KEY ( id_egresado, id_evento )
 );

CREATE  TABLE ofertas.postulaciones ( 
	id_aut_egresado      integer  NOT NULL ,
	id_aut_oferta        integer  NOT NULL ,
	fecha_postulacion    date DEFAULT current_date NOT NULL ,
	fecha_revision_empresa date   ,
	estado               varchar(30)   ,
	CONSTRAINT idx_postulaciones PRIMARY KEY ( id_aut_egresado, id_aut_oferta ),
	CONSTRAINT unq_postulaciones_id_aut_egresado UNIQUE ( id_aut_egresado ) 
 );

CREATE  TABLE ofertas.preguntas_oferta ( 
	id_aut_pregunta      serial  NOT NULL ,
	pregunta             text  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_preguntas_oferta_id_aut_pregunta PRIMARY KEY ( id_aut_pregunta )
 );

CREATE  TABLE ofertas.programas_ofertas ( 
	id_oferta            integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT idx_programas_ofertas PRIMARY KEY ( id_oferta, id_programa )
 );

CREATE  TABLE ofertas.recepcion_hv ( 
	id_aut_recepcionhv   serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	correo               varchar(60)  NOT NULL ,
	nombres              varchar(30)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_recepcion_hv_id_aut_recepcionhv PRIMARY KEY ( id_aut_recepcionhv )
 );

CREATE  TABLE ofertas.referidos_egresados ( 
	id_egresados         integer  NOT NULL ,
	id_referidos         integer  NOT NULL ,
	CONSTRAINT idx_referidos_egresados PRIMARY KEY ( id_egresados, id_referidos )
 );

CREATE  TABLE ofertas.representante_empresa ( 
	id_aut_representante_empresa serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_administrador_empresa PRIMARY KEY ( id_aut_representante_empresa ),
	CONSTRAINT idx_administrador_empresa UNIQUE ( id_empresa ) 
 );

CREATE  TABLE ofertas.solicita ( 
	id_carnetizacion     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	CONSTRAINT idx_solicita PRIMARY KEY ( id_carnetizacion, id_egresado )
 );

CREATE  TABLE ofertas.tipo_de_observacion ( 
	id_aut_comentario    serial  NOT NULL ,
	sugerencia_programa  text  NOT NULL ,
	opinio_universidad_futuro text  NOT NULL ,
	nombre_docente_influyo varchar(60)  NOT NULL ,
	id_grado             integer  NOT NULL ,
	CONSTRAINT pk_comentarios_id PRIMARY KEY ( id_aut_comentario )
 );

CREATE  TABLE ofertas.ubicacion_oferta ( 
	id_oferta            integer  NOT NULL ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT idx_ubicacion_oferta PRIMARY KEY ( id_oferta, id_ciudad )
 );

CREATE  TABLE ofertas.administrador_empresa ( 
	id_aut_administrador_empresa serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	horario_contacto     varchar(40)   ,
	correo_corporativo   varchar(60)  NOT NULL ,
	id_direccion         integer  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	id_aut_user          integer  NOT NULL ,
	CONSTRAINT pk_representante_legal_id PRIMARY KEY ( id_aut_administrador_empresa ),
	CONSTRAINT idx_administrador_empresa_0 UNIQUE ( id_empresa ) ,
	CONSTRAINT idx_administrador_empresa_1 UNIQUE ( correo_corporativo ) 
 );

CREATE  TABLE ofertas.contratos ( 
	id_aut_contrato      serial  NOT NULL ,
	duracion             varchar(20)   ,
	tipo_contrato        varchar(50)  NOT NULL ,
	jornada_laboral      varchar(30)  NOT NULL ,
	horario              varchar(40)   ,
	comentarios_salario  text   ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_contratos_id_aut_contrato PRIMARY KEY ( id_aut_contrato ),
	CONSTRAINT idx_contratos_oferta UNIQUE ( id_oferta ) 
 );

CREATE  TABLE ofertas.postulaciones_respuestas ( 
	id_egresado          integer  NOT NULL ,
	id_pregunta          integer  NOT NULL ,
	respuesta            text  NOT NULL ,
	CONSTRAINT idx_postulaciones_respuestas PRIMARY KEY ( id_egresado, id_pregunta )
 );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_legal_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_legal_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_administrador_empresa_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user );

ALTER TABLE ofertas.ciudades ADD CONSTRAINT fk_ciudades_departamentos FOREIGN KEY ( id_departamento ) REFERENCES ofertas.departamentos( id_aut_dep );

ALTER TABLE ofertas.contratos ADD CONSTRAINT fk_contratos_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.departamentos ADD CONSTRAINT fk_departamentos_pais FOREIGN KEY ( id_pais_fk ) REFERENCES ofertas.pais( id_aut_pais );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_ciudades FOREIGN KEY ( id_lugar_expedicion ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_localizacion FOREIGN KEY ( id_lugar_residencia ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_nacimiento_ciudades FOREIGN KEY ( id_lugar_nacimiento ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.egresados_discapacidades ADD CONSTRAINT fk_egresados_discapacidades_egresado FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.egresados_discapacidades ADD CONSTRAINT fk_egresados_discapacidades_discap FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades );

ALTER TABLE ofertas.empresas ADD CONSTRAINT fk_empresas_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.empresas_sectores ADD CONSTRAINT fk_empresas_sectores_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.empresas_sectores ADD CONSTRAINT fk_empresas_sectores_sector FOREIGN KEY ( id_sub_sector ) REFERENCES ofertas.sub_sectores( id_aut_sub_sector );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_cargos_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_experiencia_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_experiencia_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.grados ADD CONSTRAINT fk_grados_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.grados ADD CONSTRAINT fk_grados_egresados FOREIGN KEY ( id_estudiante ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.localizacion ADD CONSTRAINT fk_localizacion_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_empresas FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_sectores FOREIGN KEY ( id_sector ) REFERENCES ofertas.sectores( id_aut_sector );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_salarios FOREIGN KEY ( id_forma_pago ) REFERENCES ofertas.salarios( id_aut_salario );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_discapacidades FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_niveles_estudio FOREIGN KEY ( id_aut_nivestud ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.ofertas_areascon ADD CONSTRAINT fk_ofertas_areascon_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_areascon ADD CONSTRAINT fk_ofertas_areascon FOREIGN KEY ( id_areaconocimiento ) REFERENCES ofertas.areas_conocimiento( id_aut_areaconocimiento ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_idiomas ADD CONSTRAINT fk_ofertas_idiomas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_idiomas ADD CONSTRAINT fk_ofertas_idiomas_idiomas FOREIGN KEY ( id_idioma ) REFERENCES ofertas.idiomas( id_aut_idioma );

ALTER TABLE ofertas.ofertas_software ADD CONSTRAINT fk_ofertas_software_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.participa ADD CONSTRAINT fk_participa_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.participa ADD CONSTRAINT fk_participa_evento FOREIGN KEY ( id_evento ) REFERENCES ofertas.evento( id_aut_evento );

ALTER TABLE ofertas.postulaciones ADD CONSTRAINT fk_postulaciones_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.postulaciones ADD CONSTRAINT fk_postulaciones_egresados FOREIGN KEY ( id_aut_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.postulaciones_respuestas ADD CONSTRAINT fk_postulaciones_respuestas_postulaciones FOREIGN KEY ( id_egresado ) REFERENCES ofertas.postulaciones( id_aut_egresado );

ALTER TABLE ofertas.postulaciones_respuestas ADD CONSTRAINT fk_postulaciones_respuestas_preguntas_oferta FOREIGN KEY ( id_pregunta ) REFERENCES ofertas.preguntas_oferta( id_aut_pregunta );

ALTER TABLE ofertas.preguntas_oferta ADD CONSTRAINT fk_preguntas_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_programas FOREIGN KEY ( id_sede ) REFERENCES ofertas.sede( id_aut_sede );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_niveles_estudio FOREIGN KEY ( id_nivelestudio ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_titulo FOREIGN KEY ( id_titulo ) REFERENCES ofertas.titulo( id_aut_titulo );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_facultades FOREIGN KEY ( id_facultad ) REFERENCES ofertas.facultades( id_aut_facultad );

ALTER TABLE ofertas.programas_ofertas ADD CONSTRAINT fk_programas_ofertas_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.programas_ofertas ADD CONSTRAINT fk_programas_ofertas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta );

ALTER TABLE ofertas.recepcion_hv ADD CONSTRAINT fk_recepcion_hv_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.referidos ADD CONSTRAINT fk_referidos_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.referidos ADD CONSTRAINT fk_referidos_programas FOREIGN KEY ( id_aut_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.referidos_egresados ADD CONSTRAINT fk_referidos_egresados_egresados FOREIGN KEY ( id_egresados ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.referidos_egresados ADD CONSTRAINT fk_referidos_egresados_referidos FOREIGN KEY ( id_referidos ) REFERENCES ofertas.referidos( id_aut_referido );

ALTER TABLE ofertas.representante_empresa ADD CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.solicita ADD CONSTRAINT fk_solicita_carnetizacion FOREIGN KEY ( id_carnetizacion ) REFERENCES ofertas.carnetizacion( id_aut_carnetizacion );

ALTER TABLE ofertas.solicita ADD CONSTRAINT fk_solicita_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.sub_sectores ADD CONSTRAINT fk_sectores_cate_sectores FOREIGN KEY ( id_sectores ) REFERENCES ofertas.sectores( id_aut_sector );

ALTER TABLE ofertas.tipo_de_observacion ADD CONSTRAINT fk_tipo_de_observacion_grados FOREIGN KEY ( id_grado ) REFERENCES ofertas.grados( id_tipo_de_comentarios );

ALTER TABLE ofertas.ubicacion_oferta ADD CONSTRAINT fk_ubicacion_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ubicacion_oferta ADD CONSTRAINT fk_ubicacion_oferta_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.users ADD CONSTRAINT fk_users_roles FOREIGN KEY ( id_rol ) REFERENCES ofertas.roles( id_aut_rol );
]]></string>
		</script>
		<script name="SQL_Editor_003" id="Editor_164a023" language="SQL" >
			<string><![CDATA[CREATE SCHEMA ofertas;

CREATE  TABLE ofertas.areas_conocimiento ( 
	id_aut_areaconocimiento serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	CONSTRAINT pk_areas_conocimiento_id PRIMARY KEY ( id_aut_areaconocimiento )
 );

CREATE  TABLE ofertas.cargos ( 
	id_aut_cargos        serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	estado               bool DEFAULT false  ,
	CONSTRAINT pk_cargos_id_0 PRIMARY KEY ( id_aut_cargos )
 );

CREATE  TABLE ofertas.carnetizacion ( 
	id_aut_carnetizacion integer  NOT NULL ,
	estado_solicitud     varchar(50)  NOT NULL ,
	CONSTRAINT pk_carnetizacion_id_aut_carnetizacion PRIMARY KEY ( id_aut_carnetizacion )
 );

CREATE  TABLE ofertas.discapacidades ( 
	id_aut_discapacidades serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_discapacidades_id_aut_discapacidades PRIMARY KEY ( id_aut_discapacidades )
 );

CREATE  TABLE ofertas.evento ( 
	id_aut_evento        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	fecha_inicio         date   ,
	fecha_fin            date   ,
	lugar                text   ,
	descripcion          varchar(50)   ,
	cupos                numeric   ,
	a_quien_va_dirigida  varchar(50)   ,
	CONSTRAINT pk_evento_id_evento PRIMARY KEY ( id_aut_evento )
 );

CREATE  TABLE ofertas.facultades ( 
	id_aut_facultad      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	CONSTRAINT pk_facultades_id PRIMARY KEY ( id_aut_facultad )
 );

CREATE  TABLE ofertas.idiomas ( 
	id_aut_idioma        serial  NOT NULL ,
	nombre               varchar(20)  NOT NULL ,
	CONSTRAINT pk_idiomas_id_aut_idioma PRIMARY KEY ( id_aut_idioma ),
	CONSTRAINT idx_idiomas UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.nivel_programa ( 
	id_aut_nivprogra     serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	CONSTRAINT pk_nivel_programa_id_aut_nivprogra PRIMARY KEY ( id_aut_nivprogra ),
	CONSTRAINT idx_nivel_programa UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.niveles_estudio ( 
	id_aut_estudio       serial  NOT NULL ,
	nombre               varchar(50) DEFAULT 100 NOT NULL ,
	pertenece_u          bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_niveles_estudio_id PRIMARY KEY ( id_aut_estudio ),
	CONSTRAINT idx_niveles_estudio_nombre UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.padres ( 
	id_aut_padre         serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	correo               varchar(60)   ,
	telefono             varchar(16)  NOT NULL ,
	id_nivel_estudio     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT pk_contactos_id PRIMARY KEY ( id_aut_padre )
 );

CREATE  TABLE ofertas.pais ( 
	id_aut_pais          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_pais_id_pais PRIMARY KEY ( id_aut_pais ),
	CONSTRAINT idx_pais UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.roles ( 
	id_aut_rol           serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_roles_id PRIMARY KEY ( id_aut_rol )
 );

CREATE  TABLE ofertas.salarios ( 
	id_aut_salario       serial  NOT NULL ,
	minimo               integer  NOT NULL ,
	maximo               integer  NOT NULL ,
	forma_pago           varchar(20)  NOT NULL ,
	CONSTRAINT pk_salarios_id_aut_salario PRIMARY KEY ( id_aut_salario )
 );

CREATE  TABLE ofertas.sectores ( 
	id_aut_sector        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_cate_sectores PRIMARY KEY ( id_aut_sector ),
	CONSTRAINT idx_sectores UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.sede ( 
	id_aut_sede          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_sede_id_aut_sede PRIMARY KEY ( id_aut_sede )
 );

CREATE  TABLE ofertas.sub_sectores ( 
	id_aut_sub_sector    serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	id_sectores          integer  NOT NULL ,
	CONSTRAINT pk_sectores_id PRIMARY KEY ( id_aut_sub_sector )
 );

CREATE  TABLE ofertas.titulo ( 
	id_aut_titulo        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_titulo_id_aut_titulo PRIMARY KEY ( id_aut_titulo )
 );

CREATE  TABLE ofertas.users ( 
	id_aut_user          serial  NOT NULL ,
	email                varchar(60)  NOT NULL ,
	"password"           varchar(128)   ,
	id_rol               integer  NOT NULL ,
	codigo_verificacion  varchar(60)   ,
	activo               bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_users_id PRIMARY KEY ( id_aut_user )
 );

CREATE  TABLE ofertas.departamentos ( 
	id_aut_dep           serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	id_pais_fk           integer  NOT NULL ,
	CONSTRAINT pk_departamento_id PRIMARY KEY ( id_aut_dep ),
	CONSTRAINT idx_departamentos UNIQUE ( nombre, id_pais_fk ) 
 );

CREATE  TABLE ofertas.programas ( 
	id_aut_programa      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	id_facultad          integer   ,
	id_sede              integer   ,
	id_nivelestudio      integer   ,
	id_titulo            integer   ,
	CONSTRAINT pk_programas_id PRIMARY KEY ( id_aut_programa ),
	CONSTRAINT unq_programas_id_titulo UNIQUE ( id_titulo ) ,
	CONSTRAINT unq_programas_id_facultad UNIQUE ( id_facultad ) 
 );

CREATE  TABLE ofertas.referidos ( 
	id_aut_referido      serial  NOT NULL ,
	id_egresado          integer   ,
	nombres              varchar(100)  NOT NULL ,
	id_nivel_educativo   integer   ,
	telefono_movil       varchar(16)  NOT NULL ,
	correo               varchar(60)   ,
	parentesco           varchar(40)   ,
	id_aut_programa      integer   ,
	es_egresado          bool   ,
	CONSTRAINT pk_referidos_id PRIMARY KEY ( id_aut_referido )
 );

CREATE  TABLE ofertas.ciudades ( 
	id_aut_ciudad        serial  NOT NULL ,
	nombre               varchar(50)   ,
	id_departamento      integer  NOT NULL ,
	CONSTRAINT pk_ciudades_id PRIMARY KEY ( id_aut_ciudad ),
	CONSTRAINT idx_ciudades UNIQUE ( nombre, id_departamento ) 
 );

CREATE  TABLE ofertas.localizacion ( 
	id_aut_localizacion  serial  NOT NULL ,
	codigo_postal        integer   ,
	direccion            varchar(100)  NOT NULL ,
	barrio               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT pk_localizacion_id PRIMARY KEY ( id_aut_localizacion )
 );

CREATE  TABLE ofertas.egresados ( 
	id_aut_egresado      serial  NOT NULL ,
	identificacion       integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	genero               varchar(20)  NOT NULL ,
	id_lugar_expedicion  integer   ,
	id_lugar_residencia  integer   ,
	id_nivel_educativo   integer   ,
	num_hijos            smallint DEFAULT 0  ,
	id_lugar_nacimiento  integer   ,
	fecha_nacimiento     date   ,
	estado               varchar(40)  NOT NULL ,
	correo               varchar(100)   ,
	correo_alternativo   varchar(100)   ,
	estado_civil         varchar(40)   ,
	ha_trabajado         bool   ,
	trabaja_actualmente  bool   ,
	id_aut_user          integer   ,
	grupo_etnico         varchar(40)   ,
	celular              varchar(16)   ,
	telefono_fijo        varchar(16)   ,
	CONSTRAINT pk_egresados_id PRIMARY KEY ( id_aut_egresado )
 );

CREATE  TABLE ofertas.egresados_discapacidades ( 
	id_egresado          integer  NOT NULL ,
	id_discapacidad      integer  NOT NULL ,
	descripcion          varchar(80)   ,
	CONSTRAINT idx_egresados_discapacidades PRIMARY KEY ( id_egresado, id_discapacidad )
 );

CREATE  TABLE ofertas.empresas ( 
	id_aut_empresa       serial  NOT NULL ,
	nit                  varchar(15)  NOT NULL ,
	nombre               varchar(100)   ,
	razon_social         varchar(200)  NOT NULL ,
	anio_creacion        smallint  NOT NULL ,
	numero_empleados     varchar(30)  NOT NULL ,
	ingresos             varchar(30)   ,
	sitio_web            varchar(200)   ,
	id_direccion         integer  NOT NULL ,
	estado               varchar(20)   ,
	fecha_registro       date DEFAULT current_date NOT NULL ,
	fecha_activacion     date   ,
	fecha_vencimiento    date   ,
	total_publicaciones  integer   ,
	limite_publicaciones integer   ,
	num_publicaciones_actuales integer   ,
	correo               varchar(60)   ,
	telefono             varchar(16)   ,
	url_logo             varchar(255)   ,
	url_doc_camaracomercio varchar(255)  NOT NULL ,
	descripcion          text   ,
	CONSTRAINT pk_empresas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT idx_empresas_unique_nombre UNIQUE ( nombre ) ,
	CONSTRAINT idx_empresas_unique_nit UNIQUE ( nit ) 
 );

CREATE  TABLE ofertas.empresas_sectores ( 
	id_empresa           integer  NOT NULL ,
	id_sub_sector        integer  NOT NULL ,
	CONSTRAINT idx_empresas_sectores PRIMARY KEY ( id_empresa, id_sub_sector )
 );

CREATE  TABLE ofertas.experiencia ( 
	id_aut_exp           serial  NOT NULL ,
	id_egresado          integer   ,
	id_cargo             integer  NOT NULL ,
	nombre_jefe          varchar(60)  NOT NULL ,
	telefono_jefe        varchar(16)   ,
	correo_jefe          varchar(60)  NOT NULL ,
	nombre_empresa       varchar(50) DEFAULT 100 NOT NULL ,
	dir_empresa          varchar(50) DEFAULT 100  ,
	tel_trabajo          integer   ,
	rango_salario        varchar(50) DEFAULT 100  ,
	tipo_contrato        varchar(50) DEFAULT 50  ,
	trabajo_en_su_area   bool   ,
	sector               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	fecha_inicio         date  NOT NULL ,
	fecha_fin            date   ,
	CONSTRAINT pk_cargos_id PRIMARY KEY ( id_aut_exp )
 );

COMMENT ON COLUMN ofertas.experiencia.sector IS 'Publico=0\nPrivado=1';

CREATE  TABLE ofertas.grados ( 
	id_num_acta          integer DEFAULT 50 NOT NULL ,
	tipo_grado           varchar(60)   ,
	mencion_honor        varchar(50)   ,
	titulo_especial      varchar(100)   ,
	id_tipo_de_comentarios integer   ,
	anio_graduacion      varchar(50)  NOT NULL ,
	fecha_graduacion     date   ,
	id_programa          integer  NOT NULL ,
	id_estudiante        integer  NOT NULL ,
	CONSTRAINT idx_grados PRIMARY KEY ( id_programa, id_estudiante ),
	CONSTRAINT unq_grados_id_tipo_de_comentarios UNIQUE ( id_tipo_de_comentarios ) 
 );

CREATE  TABLE ofertas.ofertas ( 
	id_aut_oferta        serial  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	nombre_oferta        varchar(100)  NOT NULL ,
	descripcion          text  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	numero_vacantes      integer DEFAULT 1 NOT NULL ,
	id_forma_pago        integer  NOT NULL ,
	experiencia          varchar(30)  NOT NULL ,
	anios_experiencia    smallint DEFAULT 0 NOT NULL ,
	fecha_publicacion    date   ,
	fecha_cierre         date   ,
	estado               varchar(20)  NOT NULL ,
	estado_proceso       varchar   ,
	id_sector            integer  NOT NULL ,
	nombre_temporal_empresa varchar(30)   ,
	licencia_conduccion  varchar(20)   ,
	requisitos_minimos   text  NOT NULL ,
	id_discapacidad      integer   ,
	num_dias_oferta      integer  NOT NULL ,
	id_aut_nivestud      integer  NOT NULL ,
	CONSTRAINT pk_ofertas_id PRIMARY KEY ( id_aut_oferta )
 );

CREATE  TABLE ofertas.ofertas_areascon ( 
	id_aut_oferta        integer  NOT NULL ,
	id_areaconocimiento  integer  NOT NULL ,
	CONSTRAINT idx_ofertas_areascon PRIMARY KEY ( id_aut_oferta, id_areaconocimiento )
 );

CREATE  TABLE ofertas.ofertas_idiomas ( 
	id_oferta            integer  NOT NULL ,
	id_idioma            integer  NOT NULL ,
	nivel_escritura      varchar(20)  NOT NULL ,
	nivel_lectura        varchar(20)  NOT NULL ,
	nivel_conversacion   varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_idiomas PRIMARY KEY ( id_oferta, id_idioma )
 );

CREATE  TABLE ofertas.ofertas_software ( 
	id_software          serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	nivel                varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_software PRIMARY KEY ( id_software )
 );

CREATE  TABLE ofertas.participa ( 
	id_egresado          integer  NOT NULL ,
	id_evento            integer  NOT NULL ,
	como_se_entero       varchar(50)  NOT NULL ,
	CONSTRAINT idx_participa PRIMARY KEY ( id_egresado, id_evento )
 );

CREATE  TABLE ofertas.postulaciones ( 
	id_aut_egresado      integer  NOT NULL ,
	id_aut_oferta        integer  NOT NULL ,
	fecha_postulacion    date DEFAULT current_date NOT NULL ,
	fecha_revision_empresa date   ,
	estado               varchar(30)   ,
	CONSTRAINT idx_postulaciones PRIMARY KEY ( id_aut_egresado, id_aut_oferta ),
	CONSTRAINT unq_postulaciones_id_aut_egresado UNIQUE ( id_aut_egresado ) 
 );

CREATE  TABLE ofertas.preguntas_oferta ( 
	id_aut_pregunta      serial  NOT NULL ,
	pregunta             text  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_preguntas_oferta_id_aut_pregunta PRIMARY KEY ( id_aut_pregunta )
 );

CREATE  TABLE ofertas.programas_ofertas ( 
	id_oferta            integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT idx_programas_ofertas PRIMARY KEY ( id_oferta, id_programa )
 );

CREATE  TABLE ofertas.recepcion_hv ( 
	id_aut_recepcionhv   serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	correo               varchar(60)  NOT NULL ,
	nombres              varchar(30)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_recepcion_hv_id_aut_recepcionhv PRIMARY KEY ( id_aut_recepcionhv )
 );

CREATE  TABLE ofertas.referidos_egresados ( 
	id_egresados         integer  NOT NULL ,
	id_referidos         integer  NOT NULL ,
	CONSTRAINT idx_referidos_egresados PRIMARY KEY ( id_egresados, id_referidos )
 );

CREATE  TABLE ofertas.representante_empresa ( 
	id_aut_representante_empresa serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_administrador_empresa PRIMARY KEY ( id_aut_representante_empresa ),
	CONSTRAINT idx_administrador_empresa UNIQUE ( id_empresa ) 
 );

CREATE  TABLE ofertas.solicita ( 
	id_carnetizacion     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	CONSTRAINT idx_solicita PRIMARY KEY ( id_carnetizacion, id_egresado )
 );

CREATE  TABLE ofertas.tipo_de_observacion ( 
	id_aut_comentario    serial  NOT NULL ,
	sugerencia_programa  text  NOT NULL ,
	opinio_universidad_futuro text  NOT NULL ,
	nombre_docente_influyo varchar(60)  NOT NULL ,
	id_grado             integer  NOT NULL ,
	CONSTRAINT pk_comentarios_id PRIMARY KEY ( id_aut_comentario )
 );

CREATE  TABLE ofertas.ubicacion_oferta ( 
	id_oferta            integer  NOT NULL ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT idx_ubicacion_oferta PRIMARY KEY ( id_oferta, id_ciudad )
 );

CREATE  TABLE ofertas.administrador_empresa ( 
	id_aut_administrador_empresa serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	horario_contacto     varchar(40)   ,
	correo_corporativo   varchar(60)  NOT NULL ,
	id_direccion         integer  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	id_aut_user          integer  NOT NULL ,
	CONSTRAINT pk_representante_legal_id PRIMARY KEY ( id_aut_administrador_empresa ),
	CONSTRAINT idx_administrador_empresa_0 UNIQUE ( id_empresa ) ,
	CONSTRAINT idx_administrador_empresa_1 UNIQUE ( correo_corporativo ) 
 );

CREATE  TABLE ofertas.contratos ( 
	id_aut_contrato      serial  NOT NULL ,
	duracion             varchar(20)   ,
	tipo_contrato        varchar(50)  NOT NULL ,
	jornada_laboral      varchar(30)  NOT NULL ,
	horario              varchar(40)   ,
	comentarios_salario  text   ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_contratos_id_aut_contrato PRIMARY KEY ( id_aut_contrato ),
	CONSTRAINT idx_contratos_oferta UNIQUE ( id_oferta ) 
 );

CREATE  TABLE ofertas.postulaciones_respuestas ( 
	id_egresado          integer  NOT NULL ,
	id_pregunta          integer  NOT NULL ,
	respuesta            text  NOT NULL ,
	CONSTRAINT idx_postulaciones_respuestas PRIMARY KEY ( id_egresado, id_pregunta )
 );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_legal_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_legal_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_administrador_empresa_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user );

ALTER TABLE ofertas.ciudades ADD CONSTRAINT fk_ciudades_departamentos FOREIGN KEY ( id_departamento ) REFERENCES ofertas.departamentos( id_aut_dep );

ALTER TABLE ofertas.contratos ADD CONSTRAINT fk_contratos_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.departamentos ADD CONSTRAINT fk_departamentos_pais FOREIGN KEY ( id_pais_fk ) REFERENCES ofertas.pais( id_aut_pais );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_ciudades FOREIGN KEY ( id_lugar_expedicion ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_localizacion FOREIGN KEY ( id_lugar_residencia ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_nacimiento_ciudades FOREIGN KEY ( id_lugar_nacimiento ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.egresados_discapacidades ADD CONSTRAINT fk_egresados_discapacidades_egresado FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.egresados_discapacidades ADD CONSTRAINT fk_egresados_discapacidades_discap FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades );

ALTER TABLE ofertas.empresas ADD CONSTRAINT fk_empresas_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.empresas_sectores ADD CONSTRAINT fk_empresas_sectores_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.empresas_sectores ADD CONSTRAINT fk_empresas_sectores_sector FOREIGN KEY ( id_sub_sector ) REFERENCES ofertas.sub_sectores( id_aut_sub_sector );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_cargos_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_experiencia_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_experiencia_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.grados ADD CONSTRAINT fk_grados_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.grados ADD CONSTRAINT fk_grados_egresados FOREIGN KEY ( id_estudiante ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.localizacion ADD CONSTRAINT fk_localizacion_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_empresas FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_sectores FOREIGN KEY ( id_sector ) REFERENCES ofertas.sectores( id_aut_sector );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_salarios FOREIGN KEY ( id_forma_pago ) REFERENCES ofertas.salarios( id_aut_salario );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_discapacidades FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_niveles_estudio FOREIGN KEY ( id_aut_nivestud ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.ofertas_areascon ADD CONSTRAINT fk_ofertas_areascon_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_areascon ADD CONSTRAINT fk_ofertas_areascon FOREIGN KEY ( id_areaconocimiento ) REFERENCES ofertas.areas_conocimiento( id_aut_areaconocimiento ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_idiomas ADD CONSTRAINT fk_ofertas_idiomas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_idiomas ADD CONSTRAINT fk_ofertas_idiomas_idiomas FOREIGN KEY ( id_idioma ) REFERENCES ofertas.idiomas( id_aut_idioma );

ALTER TABLE ofertas.ofertas_software ADD CONSTRAINT fk_ofertas_software_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.participa ADD CONSTRAINT fk_participa_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.participa ADD CONSTRAINT fk_participa_evento FOREIGN KEY ( id_evento ) REFERENCES ofertas.evento( id_aut_evento );

ALTER TABLE ofertas.postulaciones ADD CONSTRAINT fk_postulaciones_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.postulaciones ADD CONSTRAINT fk_postulaciones_egresados FOREIGN KEY ( id_aut_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.postulaciones_respuestas ADD CONSTRAINT fk_postulaciones_respuestas_postulaciones FOREIGN KEY ( id_egresado ) REFERENCES ofertas.postulaciones( id_aut_egresado );

ALTER TABLE ofertas.postulaciones_respuestas ADD CONSTRAINT fk_postulaciones_respuestas_preguntas_oferta FOREIGN KEY ( id_pregunta ) REFERENCES ofertas.preguntas_oferta( id_aut_pregunta );

ALTER TABLE ofertas.preguntas_oferta ADD CONSTRAINT fk_preguntas_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_programas FOREIGN KEY ( id_sede ) REFERENCES ofertas.sede( id_aut_sede );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_niveles_estudio FOREIGN KEY ( id_nivelestudio ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_titulo FOREIGN KEY ( id_titulo ) REFERENCES ofertas.titulo( id_aut_titulo );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_facultades FOREIGN KEY ( id_facultad ) REFERENCES ofertas.facultades( id_aut_facultad );

ALTER TABLE ofertas.programas_ofertas ADD CONSTRAINT fk_programas_ofertas_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.programas_ofertas ADD CONSTRAINT fk_programas_ofertas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta );

ALTER TABLE ofertas.recepcion_hv ADD CONSTRAINT fk_recepcion_hv_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.referidos ADD CONSTRAINT fk_referidos_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.referidos ADD CONSTRAINT fk_referidos_programas FOREIGN KEY ( id_aut_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.referidos_egresados ADD CONSTRAINT fk_referidos_egresados_egresados FOREIGN KEY ( id_egresados ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.referidos_egresados ADD CONSTRAINT fk_referidos_egresados_referidos FOREIGN KEY ( id_referidos ) REFERENCES ofertas.referidos( id_aut_referido );

ALTER TABLE ofertas.representante_empresa ADD CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.solicita ADD CONSTRAINT fk_solicita_carnetizacion FOREIGN KEY ( id_carnetizacion ) REFERENCES ofertas.carnetizacion( id_aut_carnetizacion );

ALTER TABLE ofertas.solicita ADD CONSTRAINT fk_solicita_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.sub_sectores ADD CONSTRAINT fk_sectores_cate_sectores FOREIGN KEY ( id_sectores ) REFERENCES ofertas.sectores( id_aut_sector );

ALTER TABLE ofertas.tipo_de_observacion ADD CONSTRAINT fk_tipo_de_observacion_grados FOREIGN KEY ( id_grado ) REFERENCES ofertas.grados( id_tipo_de_comentarios );

ALTER TABLE ofertas.ubicacion_oferta ADD CONSTRAINT fk_ubicacion_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ubicacion_oferta ADD CONSTRAINT fk_ubicacion_oferta_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.users ADD CONSTRAINT fk_users_roles FOREIGN KEY ( id_rol ) REFERENCES ofertas.roles( id_aut_rol );
]]></string>
		</script>
		<script name="SQL_Editor_004" id="Editor_4aa5b1b" language="SQL" >
			<string><![CDATA[CREATE SCHEMA ofertas;

CREATE  TABLE ofertas.areas_conocimiento ( 
	id_aut_areaconocimiento serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	CONSTRAINT pk_areas_conocimiento_id PRIMARY KEY ( id_aut_areaconocimiento )
 );

CREATE  TABLE ofertas.cargos ( 
	id_aut_cargos        serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	estado               bool DEFAULT false  ,
	CONSTRAINT pk_cargos_id_0 PRIMARY KEY ( id_aut_cargos )
 );

CREATE  TABLE ofertas.carnetizacion ( 
	id_aut_carnetizacion integer  NOT NULL ,
	estado_solicitud     varchar(50)  NOT NULL ,
	CONSTRAINT pk_carnetizacion_id_aut_carnetizacion PRIMARY KEY ( id_aut_carnetizacion )
 );

CREATE  TABLE ofertas.discapacidades ( 
	id_aut_discapacidades serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_discapacidades_id_aut_discapacidades PRIMARY KEY ( id_aut_discapacidades )
 );

CREATE  TABLE ofertas.evento ( 
	id_aut_evento        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	fecha_inicio         date   ,
	fecha_fin            date   ,
	lugar                text   ,
	descripcion          varchar(50)   ,
	cupos                numeric   ,
	a_quien_va_dirigida  varchar(50)   ,
	CONSTRAINT pk_evento_id_evento PRIMARY KEY ( id_aut_evento )
 );

CREATE  TABLE ofertas.facultades ( 
	id_aut_facultad      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	CONSTRAINT pk_facultades_id PRIMARY KEY ( id_aut_facultad )
 );

CREATE  TABLE ofertas.idiomas ( 
	id_aut_idioma        serial  NOT NULL ,
	nombre               varchar(20)  NOT NULL ,
	CONSTRAINT pk_idiomas_id_aut_idioma PRIMARY KEY ( id_aut_idioma ),
	CONSTRAINT idx_idiomas UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.nivel_programa ( 
	id_aut_nivprogra     serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	CONSTRAINT pk_nivel_programa_id_aut_nivprogra PRIMARY KEY ( id_aut_nivprogra ),
	CONSTRAINT idx_nivel_programa UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.niveles_estudio ( 
	id_aut_estudio       serial  NOT NULL ,
	nombre               varchar(50) DEFAULT 100 NOT NULL ,
	pertenece_u          bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_niveles_estudio_id PRIMARY KEY ( id_aut_estudio ),
	CONSTRAINT idx_niveles_estudio_nombre UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.padres ( 
	id_aut_padre         serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	correo               varchar(60)   ,
	telefono             varchar(16)  NOT NULL ,
	id_nivel_estudio     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT pk_contactos_id PRIMARY KEY ( id_aut_padre )
 );

CREATE  TABLE ofertas.pais ( 
	id_aut_pais          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_pais_id_pais PRIMARY KEY ( id_aut_pais ),
	CONSTRAINT idx_pais UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.roles ( 
	id_aut_rol           serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_roles_id PRIMARY KEY ( id_aut_rol )
 );

CREATE  TABLE ofertas.salarios ( 
	id_aut_salario       serial  NOT NULL ,
	minimo               integer  NOT NULL ,
	maximo               integer  NOT NULL ,
	forma_pago           varchar(20)  NOT NULL ,
	CONSTRAINT pk_salarios_id_aut_salario PRIMARY KEY ( id_aut_salario )
 );

CREATE  TABLE ofertas.sectores ( 
	id_aut_sector        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_cate_sectores PRIMARY KEY ( id_aut_sector ),
	CONSTRAINT idx_sectores UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.sede ( 
	id_aut_sede          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_sede_id_aut_sede PRIMARY KEY ( id_aut_sede )
 );

CREATE  TABLE ofertas.sub_sectores ( 
	id_aut_sub_sector    serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	id_sectores          integer  NOT NULL ,
	CONSTRAINT pk_sectores_id PRIMARY KEY ( id_aut_sub_sector )
 );

CREATE  TABLE ofertas.titulo ( 
	id_aut_titulo        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_titulo_id_aut_titulo PRIMARY KEY ( id_aut_titulo )
 );

CREATE  TABLE ofertas.users ( 
	id_aut_user          serial  NOT NULL ,
	email                varchar(60)  NOT NULL ,
	"password"           varchar(128)   ,
	id_rol               integer  NOT NULL ,
	codigo_verificacion  varchar(60)   ,
	activo               bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_users_id PRIMARY KEY ( id_aut_user )
 );

CREATE  TABLE ofertas.departamentos ( 
	id_aut_dep           serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	id_pais_fk           integer  NOT NULL ,
	CONSTRAINT pk_departamento_id PRIMARY KEY ( id_aut_dep ),
	CONSTRAINT idx_departamentos UNIQUE ( nombre, id_pais_fk ) 
 );

CREATE  TABLE ofertas.programas ( 
	id_aut_programa      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	id_facultad          integer   ,
	id_sede              integer   ,
	id_nivelestudio      integer   ,
	id_titulo            integer   ,
	CONSTRAINT pk_programas_id PRIMARY KEY ( id_aut_programa ),
	CONSTRAINT unq_programas_id_titulo UNIQUE ( id_titulo ) ,
	CONSTRAINT unq_programas_id_facultad UNIQUE ( id_facultad ) 
 );

CREATE  TABLE ofertas.referidos ( 
	id_aut_referido      serial  NOT NULL ,
	id_egresado          integer   ,
	nombres              varchar(100)  NOT NULL ,
	id_nivel_educativo   integer   ,
	telefono_movil       varchar(16)  NOT NULL ,
	correo               varchar(60)   ,
	parentesco           varchar(40)   ,
	id_aut_programa      integer   ,
	es_egresado          bool   ,
	CONSTRAINT pk_referidos_id PRIMARY KEY ( id_aut_referido )
 );

CREATE  TABLE ofertas.ciudades ( 
	id_aut_ciudad        serial  NOT NULL ,
	nombre               varchar(50)   ,
	id_departamento      integer  NOT NULL ,
	CONSTRAINT pk_ciudades_id PRIMARY KEY ( id_aut_ciudad ),
	CONSTRAINT idx_ciudades UNIQUE ( nombre, id_departamento ) 
 );

CREATE  TABLE ofertas.localizacion ( 
	id_aut_localizacion  serial  NOT NULL ,
	codigo_postal        integer   ,
	direccion            varchar(100)  NOT NULL ,
	barrio               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT pk_localizacion_id PRIMARY KEY ( id_aut_localizacion )
 );

CREATE  TABLE ofertas.egresados ( 
	id_aut_egresado      serial  NOT NULL ,
	identificacion       integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	genero               varchar(20)  NOT NULL ,
	id_lugar_expedicion  integer   ,
	id_lugar_residencia  integer   ,
	id_nivel_educativo   integer   ,
	num_hijos            smallint DEFAULT 0  ,
	id_lugar_nacimiento  integer   ,
	fecha_nacimiento     date   ,
	estado               varchar(40)  NOT NULL ,
	correo               varchar(100)   ,
	correo_alternativo   varchar(100)   ,
	estado_civil         varchar(40)   ,
	ha_trabajado         bool   ,
	trabaja_actualmente  bool   ,
	id_aut_user          integer   ,
	grupo_etnico         varchar(40)   ,
	celular              varchar(16)   ,
	telefono_fijo        varchar(16)   ,
	CONSTRAINT pk_egresados_id PRIMARY KEY ( id_aut_egresado )
 );

CREATE  TABLE ofertas.egresados_discapacidades ( 
	id_egresado          integer  NOT NULL ,
	id_discapacidad      integer  NOT NULL ,
	descripcion          varchar(80)   ,
	CONSTRAINT idx_egresados_discapacidades PRIMARY KEY ( id_egresado, id_discapacidad )
 );

CREATE  TABLE ofertas.empresas ( 
	id_aut_empresa       serial  NOT NULL ,
	nit                  varchar(15)  NOT NULL ,
	nombre               varchar(100)   ,
	razon_social         varchar(200)  NOT NULL ,
	anio_creacion        smallint  NOT NULL ,
	numero_empleados     varchar(30)  NOT NULL ,
	ingresos             varchar(30)   ,
	sitio_web            varchar(200)   ,
	id_direccion         integer  NOT NULL ,
	estado               varchar(20)   ,
	fecha_registro       date DEFAULT current_date NOT NULL ,
	fecha_activacion     date   ,
	fecha_vencimiento    date   ,
	total_publicaciones  integer   ,
	limite_publicaciones integer   ,
	num_publicaciones_actuales integer   ,
	correo               varchar(60)   ,
	telefono             varchar(16)   ,
	url_logo             varchar(255)   ,
	url_doc_camaracomercio varchar(255)  NOT NULL ,
	descripcion          text   ,
	CONSTRAINT pk_empresas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT idx_empresas_unique_nombre UNIQUE ( nombre ) ,
	CONSTRAINT idx_empresas_unique_nit UNIQUE ( nit ) 
 );

CREATE  TABLE ofertas.empresas_sectores ( 
	id_empresa           integer  NOT NULL ,
	id_sub_sector        integer  NOT NULL ,
	CONSTRAINT idx_empresas_sectores PRIMARY KEY ( id_empresa, id_sub_sector )
 );

CREATE  TABLE ofertas.experiencia ( 
	id_aut_exp           serial  NOT NULL ,
	id_egresado          integer   ,
	id_cargo             integer  NOT NULL ,
	nombre_jefe          varchar(60)  NOT NULL ,
	telefono_jefe        varchar(16)   ,
	correo_jefe          varchar(60)  NOT NULL ,
	nombre_empresa       varchar(50) DEFAULT 100 NOT NULL ,
	dir_empresa          varchar(50) DEFAULT 100  ,
	tel_trabajo          integer   ,
	rango_salario        varchar(50) DEFAULT 100  ,
	tipo_contrato        varchar(50) DEFAULT 50  ,
	trabajo_en_su_area   bool   ,
	sector               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	fecha_inicio         date  NOT NULL ,
	fecha_fin            date   ,
	CONSTRAINT pk_cargos_id PRIMARY KEY ( id_aut_exp )
 );

COMMENT ON COLUMN ofertas.experiencia.sector IS 'Publico=0\nPrivado=1';

CREATE  TABLE ofertas.grados ( 
	id_num_acta          integer DEFAULT 50 NOT NULL ,
	tipo_grado           varchar(60)   ,
	mencion_honor        varchar(50)   ,
	titulo_especial      varchar(100)   ,
	id_tipo_de_comentarios integer   ,
	anio_graduacion      varchar(50)  NOT NULL ,
	fecha_graduacion     date   ,
	id_programa          integer  NOT NULL ,
	id_estudiante        integer  NOT NULL ,
	CONSTRAINT idx_grados PRIMARY KEY ( id_programa, id_estudiante ),
	CONSTRAINT unq_grados_id_tipo_de_comentarios UNIQUE ( id_tipo_de_comentarios ) 
 );

CREATE  TABLE ofertas.ofertas ( 
	id_aut_oferta        serial  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	nombre_oferta        varchar(100)  NOT NULL ,
	descripcion          text  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	numero_vacantes      integer DEFAULT 1 NOT NULL ,
	id_forma_pago        integer  NOT NULL ,
	experiencia          varchar(30)  NOT NULL ,
	anios_experiencia    smallint DEFAULT 0 NOT NULL ,
	fecha_publicacion    date   ,
	fecha_cierre         date   ,
	estado               varchar(20)  NOT NULL ,
	estado_proceso       varchar   ,
	id_sector            integer  NOT NULL ,
	nombre_temporal_empresa varchar(30)   ,
	licencia_conduccion  varchar(20)   ,
	requisitos_minimos   text  NOT NULL ,
	id_discapacidad      integer   ,
	num_dias_oferta      integer  NOT NULL ,
	id_aut_nivestud      integer  NOT NULL ,
	CONSTRAINT pk_ofertas_id PRIMARY KEY ( id_aut_oferta )
 );

CREATE  TABLE ofertas.ofertas_areascon ( 
	id_aut_oferta        integer  NOT NULL ,
	id_areaconocimiento  integer  NOT NULL ,
	CONSTRAINT idx_ofertas_areascon PRIMARY KEY ( id_aut_oferta, id_areaconocimiento )
 );

CREATE  TABLE ofertas.ofertas_idiomas ( 
	id_oferta            integer  NOT NULL ,
	id_idioma            integer  NOT NULL ,
	nivel_escritura      varchar(20)  NOT NULL ,
	nivel_lectura        varchar(20)  NOT NULL ,
	nivel_conversacion   varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_idiomas PRIMARY KEY ( id_oferta, id_idioma )
 );

CREATE  TABLE ofertas.ofertas_software ( 
	id_software          serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	nivel                varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_software PRIMARY KEY ( id_software )
 );

CREATE  TABLE ofertas.participa ( 
	id_egresado          integer  NOT NULL ,
	id_evento            integer  NOT NULL ,
	como_se_entero       varchar(50)  NOT NULL ,
	CONSTRAINT idx_participa PRIMARY KEY ( id_egresado, id_evento )
 );

CREATE  TABLE ofertas.postulaciones ( 
	id_aut_egresado      integer  NOT NULL ,
	id_aut_oferta        integer  NOT NULL ,
	fecha_postulacion    date DEFAULT current_date NOT NULL ,
	fecha_revision_empresa date   ,
	estado               varchar(30)   ,
	CONSTRAINT idx_postulaciones PRIMARY KEY ( id_aut_egresado, id_aut_oferta ),
	CONSTRAINT unq_postulaciones_id_aut_egresado UNIQUE ( id_aut_egresado ) 
 );

CREATE  TABLE ofertas.preguntas_oferta ( 
	id_aut_pregunta      serial  NOT NULL ,
	pregunta             text  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_preguntas_oferta_id_aut_pregunta PRIMARY KEY ( id_aut_pregunta )
 );

CREATE  TABLE ofertas.programas_ofertas ( 
	id_oferta            integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT idx_programas_ofertas PRIMARY KEY ( id_oferta, id_programa )
 );

CREATE  TABLE ofertas.recepcion_hv ( 
	id_aut_recepcionhv   serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	correo               varchar(60)  NOT NULL ,
	nombres              varchar(30)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_recepcion_hv_id_aut_recepcionhv PRIMARY KEY ( id_aut_recepcionhv )
 );

CREATE  TABLE ofertas.referidos_egresados ( 
	id_egresados         integer  NOT NULL ,
	id_referidos         integer  NOT NULL ,
	CONSTRAINT idx_referidos_egresados PRIMARY KEY ( id_egresados, id_referidos )
 );

CREATE  TABLE ofertas.representante_empresa ( 
	id_aut_representante_empresa serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_administrador_empresa PRIMARY KEY ( id_aut_representante_empresa ),
	CONSTRAINT idx_administrador_empresa UNIQUE ( id_empresa ) 
 );

CREATE  TABLE ofertas.solicita ( 
	id_carnetizacion     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	CONSTRAINT idx_solicita PRIMARY KEY ( id_carnetizacion, id_egresado )
 );

CREATE  TABLE ofertas.tipo_de_observacion ( 
	id_aut_comentario    serial  NOT NULL ,
	sugerencia_programa  text  NOT NULL ,
	opinio_universidad_futuro text  NOT NULL ,
	nombre_docente_influyo varchar(60)  NOT NULL ,
	id_grado             integer  NOT NULL ,
	CONSTRAINT pk_comentarios_id PRIMARY KEY ( id_aut_comentario )
 );

CREATE  TABLE ofertas.ubicacion_oferta ( 
	id_oferta            integer  NOT NULL ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT idx_ubicacion_oferta PRIMARY KEY ( id_oferta, id_ciudad )
 );

CREATE  TABLE ofertas.administrador_empresa ( 
	id_aut_administrador_empresa serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	horario_contacto     varchar(40)   ,
	correo_corporativo   varchar(60)  NOT NULL ,
	id_direccion         integer  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	id_aut_user          integer  NOT NULL ,
	CONSTRAINT pk_representante_legal_id PRIMARY KEY ( id_aut_administrador_empresa ),
	CONSTRAINT idx_administrador_empresa_0 UNIQUE ( id_empresa ) ,
	CONSTRAINT idx_administrador_empresa_1 UNIQUE ( correo_corporativo ) 
 );

CREATE  TABLE ofertas.contratos ( 
	id_aut_contrato      serial  NOT NULL ,
	duracion             varchar(20)   ,
	tipo_contrato        varchar(50)  NOT NULL ,
	jornada_laboral      varchar(30)  NOT NULL ,
	horario              varchar(40)   ,
	comentarios_salario  text   ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_contratos_id_aut_contrato PRIMARY KEY ( id_aut_contrato ),
	CONSTRAINT idx_contratos_oferta UNIQUE ( id_oferta ) 
 );

CREATE  TABLE ofertas.postulaciones_respuestas ( 
	id_egresado          integer  NOT NULL ,
	id_pregunta          integer  NOT NULL ,
	respuesta            text  NOT NULL ,
	CONSTRAINT idx_postulaciones_respuestas PRIMARY KEY ( id_egresado, id_pregunta )
 );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_legal_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_legal_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.administrador_empresa ADD CONSTRAINT fk_administrador_empresa_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user );

ALTER TABLE ofertas.ciudades ADD CONSTRAINT fk_ciudades_departamentos FOREIGN KEY ( id_departamento ) REFERENCES ofertas.departamentos( id_aut_dep );

ALTER TABLE ofertas.contratos ADD CONSTRAINT fk_contratos_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.departamentos ADD CONSTRAINT fk_departamentos_pais FOREIGN KEY ( id_pais_fk ) REFERENCES ofertas.pais( id_aut_pais );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_ciudades FOREIGN KEY ( id_lugar_expedicion ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_localizacion FOREIGN KEY ( id_lugar_residencia ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user );

ALTER TABLE ofertas.egresados ADD CONSTRAINT fk_egresados_nacimiento_ciudades FOREIGN KEY ( id_lugar_nacimiento ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.egresados_discapacidades ADD CONSTRAINT fk_egresados_discapacidades_egresado FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.egresados_discapacidades ADD CONSTRAINT fk_egresados_discapacidades_discap FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades );

ALTER TABLE ofertas.empresas ADD CONSTRAINT fk_empresas_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion );

ALTER TABLE ofertas.empresas_sectores ADD CONSTRAINT fk_empresas_sectores_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.empresas_sectores ADD CONSTRAINT fk_empresas_sectores_sector FOREIGN KEY ( id_sub_sector ) REFERENCES ofertas.sub_sectores( id_aut_sub_sector );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_cargos_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_experiencia_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.experiencia ADD CONSTRAINT fk_experiencia_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.grados ADD CONSTRAINT fk_grados_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.grados ADD CONSTRAINT fk_grados_egresados FOREIGN KEY ( id_estudiante ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.localizacion ADD CONSTRAINT fk_localizacion_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_empresas FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_sectores FOREIGN KEY ( id_sector ) REFERENCES ofertas.sectores( id_aut_sector );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_salarios FOREIGN KEY ( id_forma_pago ) REFERENCES ofertas.salarios( id_aut_salario );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_discapacidades FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades );

ALTER TABLE ofertas.ofertas ADD CONSTRAINT fk_ofertas_niveles_estudio FOREIGN KEY ( id_aut_nivestud ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.ofertas_areascon ADD CONSTRAINT fk_ofertas_areascon_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_areascon ADD CONSTRAINT fk_ofertas_areascon FOREIGN KEY ( id_areaconocimiento ) REFERENCES ofertas.areas_conocimiento( id_aut_areaconocimiento ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_idiomas ADD CONSTRAINT fk_ofertas_idiomas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ofertas_idiomas ADD CONSTRAINT fk_ofertas_idiomas_idiomas FOREIGN KEY ( id_idioma ) REFERENCES ofertas.idiomas( id_aut_idioma );

ALTER TABLE ofertas.ofertas_software ADD CONSTRAINT fk_ofertas_software_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.participa ADD CONSTRAINT fk_participa_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.participa ADD CONSTRAINT fk_participa_evento FOREIGN KEY ( id_evento ) REFERENCES ofertas.evento( id_aut_evento );

ALTER TABLE ofertas.postulaciones ADD CONSTRAINT fk_postulaciones_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.postulaciones ADD CONSTRAINT fk_postulaciones_egresados FOREIGN KEY ( id_aut_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.postulaciones_respuestas ADD CONSTRAINT fk_postulaciones_respuestas_postulaciones FOREIGN KEY ( id_egresado ) REFERENCES ofertas.postulaciones( id_aut_egresado );

ALTER TABLE ofertas.postulaciones_respuestas ADD CONSTRAINT fk_postulaciones_respuestas_preguntas_oferta FOREIGN KEY ( id_pregunta ) REFERENCES ofertas.preguntas_oferta( id_aut_pregunta );

ALTER TABLE ofertas.preguntas_oferta ADD CONSTRAINT fk_preguntas_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_programas FOREIGN KEY ( id_sede ) REFERENCES ofertas.sede( id_aut_sede );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_niveles_estudio FOREIGN KEY ( id_nivelestudio ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_titulo FOREIGN KEY ( id_titulo ) REFERENCES ofertas.titulo( id_aut_titulo );

ALTER TABLE ofertas.programas ADD CONSTRAINT fk_programas_facultades FOREIGN KEY ( id_facultad ) REFERENCES ofertas.facultades( id_aut_facultad );

ALTER TABLE ofertas.programas_ofertas ADD CONSTRAINT fk_programas_ofertas_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.programas_ofertas ADD CONSTRAINT fk_programas_ofertas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta );

ALTER TABLE ofertas.recepcion_hv ADD CONSTRAINT fk_recepcion_hv_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.referidos ADD CONSTRAINT fk_referidos_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio );

ALTER TABLE ofertas.referidos ADD CONSTRAINT fk_referidos_programas FOREIGN KEY ( id_aut_programa ) REFERENCES ofertas.programas( id_aut_programa );

ALTER TABLE ofertas.referidos_egresados ADD CONSTRAINT fk_referidos_egresados_egresados FOREIGN KEY ( id_egresados ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.referidos_egresados ADD CONSTRAINT fk_referidos_egresados_referidos FOREIGN KEY ( id_referidos ) REFERENCES ofertas.referidos( id_aut_referido );

ALTER TABLE ofertas.representante_empresa ADD CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa );

ALTER TABLE ofertas.solicita ADD CONSTRAINT fk_solicita_carnetizacion FOREIGN KEY ( id_carnetizacion ) REFERENCES ofertas.carnetizacion( id_aut_carnetizacion );

ALTER TABLE ofertas.solicita ADD CONSTRAINT fk_solicita_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado );

ALTER TABLE ofertas.sub_sectores ADD CONSTRAINT fk_sectores_cate_sectores FOREIGN KEY ( id_sectores ) REFERENCES ofertas.sectores( id_aut_sector );

ALTER TABLE ofertas.tipo_de_observacion ADD CONSTRAINT fk_tipo_de_observacion_grados FOREIGN KEY ( id_grado ) REFERENCES ofertas.grados( id_tipo_de_comentarios );

ALTER TABLE ofertas.ubicacion_oferta ADD CONSTRAINT fk_ubicacion_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ofertas.ubicacion_oferta ADD CONSTRAINT fk_ubicacion_oferta_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad );

ALTER TABLE ofertas.users ADD CONSTRAINT fk_users_roles FOREIGN KEY ( id_rol ) REFERENCES ofertas.roles( id_aut_rol );
]]></string>
		</script>
		<script name="SQL_Editor_005" id="Editor_2273d9a" language="SQL" >
			<string><![CDATA[CREATE SCHEMA ofertas;

CREATE  TABLE ofertas.areas_conocimiento ( 
	id_aut_areaconocimiento serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	CONSTRAINT pk_areas_conocimiento_id PRIMARY KEY ( id_aut_areaconocimiento )
 );

CREATE  TABLE ofertas.cargos ( 
	id_aut_cargos        serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	estado               bool DEFAULT false  ,
	CONSTRAINT pk_cargos_id_0 PRIMARY KEY ( id_aut_cargos )
 );

CREATE  TABLE ofertas.carnetizacion ( 
	id_aut_carnetizacion integer  NOT NULL ,
	estado_solicitud     varchar(50)  NOT NULL ,
	CONSTRAINT pk_carnetizacion_id_aut_carnetizacion PRIMARY KEY ( id_aut_carnetizacion )
 );

CREATE  TABLE ofertas.discapacidades ( 
	id_aut_discapacidades serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_discapacidades_id_aut_discapacidades PRIMARY KEY ( id_aut_discapacidades )
 );

CREATE  TABLE ofertas.evento ( 
	id_aut_evento        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	fecha_inicio         date   ,
	fecha_fin            date   ,
	lugar                text   ,
	descripcion          varchar(50)   ,
	cupos                numeric   ,
	a_quien_va_dirigida  varchar(50)   ,
	CONSTRAINT pk_evento_id_evento PRIMARY KEY ( id_aut_evento )
 );

CREATE  TABLE ofertas.facultades ( 
	id_aut_facultad      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	CONSTRAINT pk_facultades_id PRIMARY KEY ( id_aut_facultad )
 );

CREATE  TABLE ofertas.idiomas ( 
	id_aut_idioma        serial  NOT NULL ,
	nombre               varchar(20)  NOT NULL ,
	CONSTRAINT pk_idiomas_id_aut_idioma PRIMARY KEY ( id_aut_idioma ),
	CONSTRAINT idx_idiomas UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.nivel_programa ( 
	id_aut_nivprogra     serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	CONSTRAINT pk_nivel_programa_id_aut_nivprogra PRIMARY KEY ( id_aut_nivprogra ),
	CONSTRAINT idx_nivel_programa UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.niveles_estudio ( 
	id_aut_estudio       serial  NOT NULL ,
	nombre               varchar(50) DEFAULT 100 NOT NULL ,
	pertenece_u          bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_niveles_estudio_id PRIMARY KEY ( id_aut_estudio ),
	CONSTRAINT idx_niveles_estudio_nombre UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.padres ( 
	id_aut_padre         serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	correo               varchar(60)   ,
	telefono             varchar(16)  NOT NULL ,
	id_nivel_estudio     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT pk_contactos_id PRIMARY KEY ( id_aut_padre )
 );

CREATE  TABLE ofertas.pais ( 
	id_aut_pais          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_pais_id_pais PRIMARY KEY ( id_aut_pais ),
	CONSTRAINT idx_pais UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.roles ( 
	id_aut_rol           serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_roles_id PRIMARY KEY ( id_aut_rol )
 );

CREATE  TABLE ofertas.salarios ( 
	id_aut_salario       serial  NOT NULL ,
	minimo               integer  NOT NULL ,
	maximo               integer  NOT NULL ,
	forma_pago           varchar(20)  NOT NULL ,
	CONSTRAINT pk_salarios_id_aut_salario PRIMARY KEY ( id_aut_salario )
 );

CREATE  TABLE ofertas.sectores ( 
	id_aut_sector        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_cate_sectores PRIMARY KEY ( id_aut_sector ),
	CONSTRAINT idx_sectores UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.sede ( 
	id_aut_sede          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_sede_id_aut_sede PRIMARY KEY ( id_aut_sede )
 );

CREATE  TABLE ofertas.sub_sectores ( 
	id_aut_sub_sector    serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	id_sectores          integer  NOT NULL ,
	CONSTRAINT pk_sectores_id PRIMARY KEY ( id_aut_sub_sector ),
	CONSTRAINT fk_sectores_cate_sectores FOREIGN KEY ( id_sectores ) REFERENCES ofertas.sectores( id_aut_sector )  
 );

CREATE  TABLE ofertas.titulo ( 
	id_aut_titulo        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_titulo_id_aut_titulo PRIMARY KEY ( id_aut_titulo )
 );

CREATE  TABLE ofertas.users ( 
	id_aut_user          serial  NOT NULL ,
	email                varchar(60)  NOT NULL ,
	"password"           varchar(128)   ,
	id_rol               integer  NOT NULL ,
	codigo_verificacion  varchar(60)   ,
	activo               bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_users_id PRIMARY KEY ( id_aut_user ),
	CONSTRAINT fk_users_roles FOREIGN KEY ( id_rol ) REFERENCES ofertas.roles( id_aut_rol )  
 );

CREATE  TABLE ofertas.departamentos ( 
	id_aut_dep           serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	id_pais_fk           integer  NOT NULL ,
	CONSTRAINT pk_departamento_id PRIMARY KEY ( id_aut_dep ),
	CONSTRAINT idx_departamentos UNIQUE ( nombre, id_pais_fk ) ,
	CONSTRAINT fk_departamentos_pais FOREIGN KEY ( id_pais_fk ) REFERENCES ofertas.pais( id_aut_pais )  
 );

CREATE  TABLE ofertas.programas ( 
	id_aut_programa      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	id_facultad          integer   ,
	id_sede              integer   ,
	id_nivelestudio      integer   ,
	id_titulo            integer   ,
	CONSTRAINT pk_programas_id PRIMARY KEY ( id_aut_programa ),
	CONSTRAINT unq_programas_id_titulo UNIQUE ( id_titulo ) ,
	CONSTRAINT unq_programas_id_facultad UNIQUE ( id_facultad ) ,
	CONSTRAINT fk_programas_programas FOREIGN KEY ( id_sede ) REFERENCES ofertas.sede( id_aut_sede )  ,
	CONSTRAINT fk_programas_niveles_estudio FOREIGN KEY ( id_nivelestudio ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  ,
	CONSTRAINT fk_programas_titulo FOREIGN KEY ( id_titulo ) REFERENCES ofertas.titulo( id_aut_titulo )  ,
	CONSTRAINT fk_programas_facultades FOREIGN KEY ( id_facultad ) REFERENCES ofertas.facultades( id_aut_facultad )  
 );

CREATE  TABLE ofertas.referidos ( 
	id_aut_referido      serial  NOT NULL ,
	id_egresado          integer   ,
	nombres              varchar(100)  NOT NULL ,
	id_nivel_educativo   integer   ,
	telefono_movil       varchar(16)  NOT NULL ,
	correo               varchar(60)   ,
	parentesco           varchar(40)   ,
	id_aut_programa      integer   ,
	es_egresado          bool   ,
	CONSTRAINT pk_referidos_id PRIMARY KEY ( id_aut_referido ),
	CONSTRAINT fk_referidos_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  ,
	CONSTRAINT fk_referidos_programas FOREIGN KEY ( id_aut_programa ) REFERENCES ofertas.programas( id_aut_programa )  
 );

CREATE  TABLE ofertas.ciudades ( 
	id_aut_ciudad        serial  NOT NULL ,
	nombre               varchar(50)   ,
	id_departamento      integer  NOT NULL ,
	CONSTRAINT pk_ciudades_id PRIMARY KEY ( id_aut_ciudad ),
	CONSTRAINT idx_ciudades UNIQUE ( nombre, id_departamento ) ,
	CONSTRAINT fk_ciudades_departamentos FOREIGN KEY ( id_departamento ) REFERENCES ofertas.departamentos( id_aut_dep )  
 );

CREATE  TABLE ofertas.localizacion ( 
	id_aut_localizacion  serial  NOT NULL ,
	codigo_postal        integer   ,
	direccion            varchar(100)  NOT NULL ,
	barrio               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT pk_localizacion_id PRIMARY KEY ( id_aut_localizacion ),
	CONSTRAINT fk_localizacion_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.egresados ( 
	id_aut_egresado      serial  NOT NULL ,
	identificacion       integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	genero               varchar(20)  NOT NULL ,
	id_lugar_expedicion  integer   ,
	id_lugar_residencia  integer   ,
	id_nivel_educativo   integer   ,
	num_hijos            smallint DEFAULT 0  ,
	id_lugar_nacimiento  integer   ,
	fecha_nacimiento     date   ,
	estado               varchar(40)  NOT NULL ,
	correo               varchar(100)   ,
	correo_alternativo   varchar(100)   ,
	estado_civil         varchar(40)   ,
	ha_trabajado         bool   ,
	trabaja_actualmente  bool   ,
	id_aut_user          integer   ,
	grupo_etnico         varchar(40)   ,
	celular              varchar(16)   ,
	telefono_fijo        varchar(16)   ,
	CONSTRAINT pk_egresados_id PRIMARY KEY ( id_aut_egresado ),
	CONSTRAINT fk_egresados_ciudades FOREIGN KEY ( id_lugar_expedicion ) REFERENCES ofertas.ciudades( id_aut_ciudad )  ,
	CONSTRAINT fk_egresados_localizacion FOREIGN KEY ( id_lugar_residencia ) REFERENCES ofertas.localizacion( id_aut_localizacion )  ,
	CONSTRAINT fk_egresados_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  ,
	CONSTRAINT fk_egresados_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user )  ,
	CONSTRAINT fk_egresados_nacimiento_ciudades FOREIGN KEY ( id_lugar_nacimiento ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.egresados_discapacidades ( 
	id_egresado          integer  NOT NULL ,
	id_discapacidad      integer  NOT NULL ,
	descripcion          varchar(80)   ,
	CONSTRAINT idx_egresados_discapacidades PRIMARY KEY ( id_egresado, id_discapacidad ),
	CONSTRAINT fk_egresados_discapacidades_egresado FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_egresados_discapacidades_discap FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades )  
 );

CREATE  TABLE ofertas.empresas ( 
	id_aut_empresa       serial  NOT NULL ,
	nit                  varchar(15)  NOT NULL ,
	nombre               varchar(100)   ,
	razon_social         varchar(200)  NOT NULL ,
	anio_creacion        smallint  NOT NULL ,
	numero_empleados     varchar(30)  NOT NULL ,
	ingresos             varchar(30)   ,
	sitio_web            varchar(200)   ,
	id_direccion         integer  NOT NULL ,
	estado               varchar(20)   ,
	fecha_registro       date DEFAULT current_date NOT NULL ,
	fecha_activacion     date   ,
	fecha_vencimiento    date   ,
	total_publicaciones  integer   ,
	limite_publicaciones integer   ,
	num_publicaciones_actuales integer   ,
	correo               varchar(60)   ,
	telefono             varchar(16)   ,
	url_logo             varchar(255)   ,
	url_doc_camaracomercio varchar(255)  NOT NULL ,
	descripcion          text   ,
	CONSTRAINT pk_empresas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT idx_empresas_unique_nombre UNIQUE ( nombre ) ,
	CONSTRAINT idx_empresas_unique_nit UNIQUE ( nit ) ,
	CONSTRAINT fk_empresas_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion )  
 );

CREATE  TABLE ofertas.empresas_sectores ( 
	id_empresa           integer  NOT NULL ,
	id_sub_sector        integer  NOT NULL ,
	CONSTRAINT idx_empresas_sectores PRIMARY KEY ( id_empresa, id_sub_sector ),
	CONSTRAINT fk_empresas_sectores_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_empresas_sectores_sector FOREIGN KEY ( id_sub_sector ) REFERENCES ofertas.sub_sectores( id_aut_sub_sector )  
 );

CREATE  TABLE ofertas.experiencia ( 
	id_aut_exp           serial  NOT NULL ,
	id_egresado          integer   ,
	id_cargo             integer  NOT NULL ,
	nombre_jefe          varchar(60)  NOT NULL ,
	telefono_jefe        varchar(16)   ,
	correo_jefe          varchar(60)  NOT NULL ,
	nombre_empresa       varchar(50) DEFAULT 100 NOT NULL ,
	dir_empresa          varchar(50) DEFAULT 100  ,
	tel_trabajo          integer   ,
	rango_salario        varchar(50) DEFAULT 100  ,
	tipo_contrato        varchar(50) DEFAULT 50  ,
	trabajo_en_su_area   bool   ,
	sector               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	fecha_inicio         date  NOT NULL ,
	fecha_fin            date   ,
	CONSTRAINT pk_cargos_id PRIMARY KEY ( id_aut_exp ),
	CONSTRAINT fk_cargos_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_experiencia_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  ,
	CONSTRAINT fk_experiencia_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

COMMENT ON COLUMN ofertas.experiencia.sector IS 'Publico=0\nPrivado=1';

CREATE  TABLE ofertas.grados ( 
	id_num_acta          integer DEFAULT 50 NOT NULL ,
	tipo_grado           varchar(60)   ,
	mencion_honor        varchar(50)   ,
	titulo_especial      varchar(100)   ,
	id_tipo_de_comentarios integer   ,
	anio_graduacion      varchar(50)  NOT NULL ,
	fecha_graduacion     date   ,
	id_programa          integer  NOT NULL ,
	id_estudiante        integer  NOT NULL ,
	CONSTRAINT idx_grados PRIMARY KEY ( id_programa, id_estudiante ),
	CONSTRAINT unq_grados_id_tipo_de_comentarios UNIQUE ( id_tipo_de_comentarios ) ,
	CONSTRAINT fk_grados_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa )  ,
	CONSTRAINT fk_grados_egresados FOREIGN KEY ( id_estudiante ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.ofertas ( 
	id_aut_oferta        serial  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	nombre_oferta        varchar(100)  NOT NULL ,
	descripcion          text  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	numero_vacantes      integer DEFAULT 1 NOT NULL ,
	id_forma_pago        integer  NOT NULL ,
	experiencia          varchar(30)  NOT NULL ,
	anios_experiencia    smallint DEFAULT 0 NOT NULL ,
	fecha_publicacion    date   ,
	fecha_cierre         date   ,
	estado               varchar(20)  NOT NULL ,
	estado_proceso       varchar   ,
	id_sector            integer  NOT NULL ,
	nombre_temporal_empresa varchar(30)   ,
	licencia_conduccion  varchar(20)   ,
	requisitos_minimos   text  NOT NULL ,
	id_discapacidad      integer   ,
	num_dias_oferta      integer  NOT NULL ,
	id_aut_nivestud      integer  NOT NULL ,
	CONSTRAINT pk_ofertas_id PRIMARY KEY ( id_aut_oferta ),
	CONSTRAINT fk_ofertas_empresas FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_ofertas_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  ,
	CONSTRAINT fk_ofertas_sectores FOREIGN KEY ( id_sector ) REFERENCES ofertas.sectores( id_aut_sector )  ,
	CONSTRAINT fk_ofertas_salarios FOREIGN KEY ( id_forma_pago ) REFERENCES ofertas.salarios( id_aut_salario )  ,
	CONSTRAINT fk_ofertas_discapacidades FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades )  ,
	CONSTRAINT fk_ofertas_niveles_estudio FOREIGN KEY ( id_aut_nivestud ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  
 );

CREATE  TABLE ofertas.ofertas_areascon ( 
	id_aut_oferta        integer  NOT NULL ,
	id_areaconocimiento  integer  NOT NULL ,
	CONSTRAINT idx_ofertas_areascon PRIMARY KEY ( id_aut_oferta, id_areaconocimiento ),
	CONSTRAINT fk_ofertas_areascon_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_ofertas_areascon FOREIGN KEY ( id_areaconocimiento ) REFERENCES ofertas.areas_conocimiento( id_aut_areaconocimiento ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.ofertas_idiomas ( 
	id_oferta            integer  NOT NULL ,
	id_idioma            integer  NOT NULL ,
	nivel_escritura      varchar(20)  NOT NULL ,
	nivel_lectura        varchar(20)  NOT NULL ,
	nivel_conversacion   varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_idiomas PRIMARY KEY ( id_oferta, id_idioma ),
	CONSTRAINT fk_ofertas_idiomas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_ofertas_idiomas_idiomas FOREIGN KEY ( id_idioma ) REFERENCES ofertas.idiomas( id_aut_idioma )  
 );

CREATE  TABLE ofertas.ofertas_software ( 
	id_software          serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	nivel                varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_software PRIMARY KEY ( id_software ),
	CONSTRAINT fk_ofertas_software_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.participa ( 
	id_egresado          integer  NOT NULL ,
	id_evento            integer  NOT NULL ,
	como_se_entero       varchar(50)  NOT NULL ,
	CONSTRAINT idx_participa PRIMARY KEY ( id_egresado, id_evento ),
	CONSTRAINT fk_participa_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_participa_evento FOREIGN KEY ( id_evento ) REFERENCES ofertas.evento( id_aut_evento )  
 );

CREATE  TABLE ofertas.postulaciones ( 
	id_aut_egresado      integer  NOT NULL ,
	id_aut_oferta        integer  NOT NULL ,
	fecha_postulacion    date DEFAULT current_date NOT NULL ,
	fecha_revision_empresa date   ,
	estado               varchar(30)   ,
	CONSTRAINT idx_postulaciones PRIMARY KEY ( id_aut_egresado, id_aut_oferta ),
	CONSTRAINT unq_postulaciones_id_aut_egresado UNIQUE ( id_aut_egresado ) ,
	CONSTRAINT fk_postulaciones_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_postulaciones_egresados FOREIGN KEY ( id_aut_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.preguntas_oferta ( 
	id_aut_pregunta      serial  NOT NULL ,
	pregunta             text  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_preguntas_oferta_id_aut_pregunta PRIMARY KEY ( id_aut_pregunta ),
	CONSTRAINT fk_preguntas_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.programas_ofertas ( 
	id_oferta            integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT idx_programas_ofertas PRIMARY KEY ( id_oferta, id_programa ),
	CONSTRAINT fk_programas_ofertas_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa )  ,
	CONSTRAINT fk_programas_ofertas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta )  
 );

CREATE  TABLE ofertas.recepcion_hv ( 
	id_aut_recepcionhv   serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	correo               varchar(60)  NOT NULL ,
	nombres              varchar(30)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_recepcion_hv_id_aut_recepcionhv PRIMARY KEY ( id_aut_recepcionhv ),
	CONSTRAINT fk_recepcion_hv_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.referidos_egresados ( 
	id_egresados         integer  NOT NULL ,
	id_referidos         integer  NOT NULL ,
	CONSTRAINT idx_referidos_egresados PRIMARY KEY ( id_egresados, id_referidos ),
	CONSTRAINT fk_referidos_egresados_egresados FOREIGN KEY ( id_egresados ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_referidos_egresados_referidos FOREIGN KEY ( id_referidos ) REFERENCES ofertas.referidos( id_aut_referido )  
 );

CREATE  TABLE ofertas.representante_empresa ( 
	id_aut_representante_empresa serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_administrador_empresa PRIMARY KEY ( id_aut_representante_empresa ),
	CONSTRAINT idx_administrador_empresa UNIQUE ( id_empresa ) ,
	CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  
 );

CREATE  TABLE ofertas.solicita ( 
	id_carnetizacion     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	CONSTRAINT idx_solicita PRIMARY KEY ( id_carnetizacion, id_egresado ),
	CONSTRAINT fk_solicita_carnetizacion FOREIGN KEY ( id_carnetizacion ) REFERENCES ofertas.carnetizacion( id_aut_carnetizacion )  ,
	CONSTRAINT fk_solicita_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.tipo_de_observacion ( 
	id_aut_comentario    serial  NOT NULL ,
	sugerencia_programa  text  NOT NULL ,
	opinio_universidad_futuro text  NOT NULL ,
	nombre_docente_influyo varchar(60)  NOT NULL ,
	id_grado             integer  NOT NULL ,
	CONSTRAINT pk_comentarios_id PRIMARY KEY ( id_aut_comentario ),
	CONSTRAINT fk_tipo_de_observacion_grados FOREIGN KEY ( id_grado ) REFERENCES ofertas.grados( id_tipo_de_comentarios )  
 );

CREATE  TABLE ofertas.ubicacion_oferta ( 
	id_oferta            integer  NOT NULL ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT idx_ubicacion_oferta PRIMARY KEY ( id_oferta, id_ciudad ),
	CONSTRAINT fk_ubicacion_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_ubicacion_oferta_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.administrador_empresa ( 
	id_aut_administrador_empresa serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	horario_contacto     varchar(40)   ,
	correo_corporativo   varchar(60)  NOT NULL ,
	id_direccion         integer  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	id_aut_user          integer  NOT NULL ,
	CONSTRAINT pk_representante_legal_id PRIMARY KEY ( id_aut_administrador_empresa ),
	CONSTRAINT idx_administrador_empresa_0 UNIQUE ( id_empresa ) ,
	CONSTRAINT idx_administrador_empresa_1 UNIQUE ( correo_corporativo ) ,
	CONSTRAINT fk_representante_legal_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion )  ,
	CONSTRAINT fk_representante_legal_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  ,
	CONSTRAINT fk_administrador_empresa_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user )  
 );

CREATE  TABLE ofertas.contratos ( 
	id_aut_contrato      serial  NOT NULL ,
	duracion             varchar(20)   ,
	tipo_contrato        varchar(50)  NOT NULL ,
	jornada_laboral      varchar(30)  NOT NULL ,
	horario              varchar(40)   ,
	comentarios_salario  text   ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_contratos_id_aut_contrato PRIMARY KEY ( id_aut_contrato ),
	CONSTRAINT idx_contratos_oferta UNIQUE ( id_oferta ) ,
	CONSTRAINT fk_contratos_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.postulaciones_respuestas ( 
	id_egresado          integer  NOT NULL ,
	id_pregunta          integer  NOT NULL ,
	respuesta            text  NOT NULL ,
	CONSTRAINT idx_postulaciones_respuestas PRIMARY KEY ( id_egresado, id_pregunta ),
	CONSTRAINT fk_postulaciones_respuestas_postulaciones FOREIGN KEY ( id_egresado ) REFERENCES ofertas.postulaciones( id_aut_egresado )  ,
	CONSTRAINT fk_postulaciones_respuestas_preguntas_oferta FOREIGN KEY ( id_pregunta ) REFERENCES ofertas.preguntas_oferta( id_aut_pregunta )  
 );
]]></string>
		</script>
		<script name="SQL_Editor_006" id="Editor_3a35649" language="SQL" >
			<string><![CDATA[CREATE SCHEMA ofertas;

CREATE  TABLE ofertas.areas_conocimiento ( 
	id_aut_areaconocimiento serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	CONSTRAINT pk_areas_conocimiento_id PRIMARY KEY ( id_aut_areaconocimiento )
 );

CREATE  TABLE ofertas.cargos ( 
	id_aut_cargos        serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	estado               bool DEFAULT false  ,
	CONSTRAINT pk_cargos_id_0 PRIMARY KEY ( id_aut_cargos )
 );

CREATE  TABLE ofertas.carnetizacion ( 
	id_aut_carnetizacion integer  NOT NULL ,
	estado_solicitud     varchar(50)  NOT NULL ,
	CONSTRAINT pk_carnetizacion_id_aut_carnetizacion PRIMARY KEY ( id_aut_carnetizacion )
 );

CREATE  TABLE ofertas.discapacidades ( 
	id_aut_discapacidades serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_discapacidades_id_aut_discapacidades PRIMARY KEY ( id_aut_discapacidades )
 );

CREATE  TABLE ofertas.evento ( 
	id_aut_evento        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	fecha_inicio         date   ,
	fecha_fin            date   ,
	lugar                text   ,
	descripcion          varchar(50)   ,
	cupos                numeric   ,
	a_quien_va_dirigida  varchar(50)   ,
	CONSTRAINT pk_evento_id_evento PRIMARY KEY ( id_aut_evento )
 );

CREATE  TABLE ofertas.facultades ( 
	id_aut_facultad      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	CONSTRAINT pk_facultades_id PRIMARY KEY ( id_aut_facultad )
 );

CREATE  TABLE ofertas.idiomas ( 
	id_aut_idioma        serial  NOT NULL ,
	nombre               varchar(20)  NOT NULL ,
	CONSTRAINT pk_idiomas_id_aut_idioma PRIMARY KEY ( id_aut_idioma ),
	CONSTRAINT idx_idiomas UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.nivel_programa ( 
	id_aut_nivprogra     serial  NOT NULL ,
	nombre               varchar(40)  NOT NULL ,
	CONSTRAINT pk_nivel_programa_id_aut_nivprogra PRIMARY KEY ( id_aut_nivprogra ),
	CONSTRAINT idx_nivel_programa UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.niveles_estudio ( 
	id_aut_estudio       serial  NOT NULL ,
	nombre               varchar(50) DEFAULT 100 NOT NULL ,
	pertenece_u          bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_niveles_estudio_id PRIMARY KEY ( id_aut_estudio ),
	CONSTRAINT idx_niveles_estudio_nombre UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.padres ( 
	id_aut_padre         serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	correo               varchar(60)   ,
	telefono             varchar(16)  NOT NULL ,
	id_nivel_estudio     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT pk_contactos_id PRIMARY KEY ( id_aut_padre )
 );

CREATE  TABLE ofertas.pais ( 
	id_aut_pais          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_pais_id_pais PRIMARY KEY ( id_aut_pais ),
	CONSTRAINT idx_pais UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.roles ( 
	id_aut_rol           serial  NOT NULL ,
	nombre               varchar(30)  NOT NULL ,
	CONSTRAINT pk_roles_id PRIMARY KEY ( id_aut_rol )
 );

CREATE  TABLE ofertas.salarios ( 
	id_aut_salario       serial  NOT NULL ,
	minimo               integer  NOT NULL ,
	maximo               integer  NOT NULL ,
	forma_pago           varchar(20)  NOT NULL ,
	CONSTRAINT pk_salarios_id_aut_salario PRIMARY KEY ( id_aut_salario )
 );

CREATE  TABLE ofertas.sectores ( 
	id_aut_sector        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_cate_sectores PRIMARY KEY ( id_aut_sector ),
	CONSTRAINT idx_sectores UNIQUE ( nombre ) 
 );

CREATE  TABLE ofertas.sede ( 
	id_aut_sede          serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_sede_id_aut_sede PRIMARY KEY ( id_aut_sede )
 );

CREATE  TABLE ofertas.sub_sectores ( 
	id_aut_sub_sector    serial  NOT NULL ,
	nombre               varchar(100)  NOT NULL ,
	id_sectores          integer  NOT NULL ,
	CONSTRAINT pk_sectores_id PRIMARY KEY ( id_aut_sub_sector ),
	CONSTRAINT fk_sectores_cate_sectores FOREIGN KEY ( id_sectores ) REFERENCES ofertas.sectores( id_aut_sector )  
 );

CREATE  TABLE ofertas.titulo ( 
	id_aut_titulo        serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	CONSTRAINT pk_titulo_id_aut_titulo PRIMARY KEY ( id_aut_titulo )
 );

CREATE  TABLE ofertas.users ( 
	id_aut_user          serial  NOT NULL ,
	email                varchar(60)  NOT NULL ,
	"password"           varchar(128)   ,
	id_rol               integer  NOT NULL ,
	codigo_verificacion  varchar(60)   ,
	activo               bool DEFAULT false NOT NULL ,
	CONSTRAINT pk_users_id PRIMARY KEY ( id_aut_user ),
	CONSTRAINT fk_users_roles FOREIGN KEY ( id_rol ) REFERENCES ofertas.roles( id_aut_rol )  
 );

CREATE  TABLE ofertas.departamentos ( 
	id_aut_dep           serial  NOT NULL ,
	nombre               varchar(50)  NOT NULL ,
	id_pais_fk           integer  NOT NULL ,
	CONSTRAINT pk_departamento_id PRIMARY KEY ( id_aut_dep ),
	CONSTRAINT idx_departamentos UNIQUE ( nombre, id_pais_fk ) ,
	CONSTRAINT fk_departamentos_pais FOREIGN KEY ( id_pais_fk ) REFERENCES ofertas.pais( id_aut_pais )  
 );

CREATE  TABLE ofertas.programas ( 
	id_aut_programa      serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	id_facultad          integer   ,
	id_sede              integer   ,
	id_nivelestudio      integer   ,
	id_titulo            integer   ,
	CONSTRAINT pk_programas_id PRIMARY KEY ( id_aut_programa ),
	CONSTRAINT unq_programas_id_titulo UNIQUE ( id_titulo ) ,
	CONSTRAINT unq_programas_id_facultad UNIQUE ( id_facultad ) ,
	CONSTRAINT fk_programas_programas FOREIGN KEY ( id_sede ) REFERENCES ofertas.sede( id_aut_sede )  ,
	CONSTRAINT fk_programas_niveles_estudio FOREIGN KEY ( id_nivelestudio ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  ,
	CONSTRAINT fk_programas_titulo FOREIGN KEY ( id_titulo ) REFERENCES ofertas.titulo( id_aut_titulo )  ,
	CONSTRAINT fk_programas_facultades FOREIGN KEY ( id_facultad ) REFERENCES ofertas.facultades( id_aut_facultad )  
 );

CREATE  TABLE ofertas.referidos ( 
	id_aut_referido      serial  NOT NULL ,
	id_egresado          integer   ,
	nombres              varchar(100)  NOT NULL ,
	id_nivel_educativo   integer   ,
	telefono_movil       varchar(16)  NOT NULL ,
	correo               varchar(60)   ,
	parentesco           varchar(40)   ,
	id_aut_programa      integer   ,
	es_egresado          bool   ,
	CONSTRAINT pk_referidos_id PRIMARY KEY ( id_aut_referido ),
	CONSTRAINT fk_referidos_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  ,
	CONSTRAINT fk_referidos_programas FOREIGN KEY ( id_aut_programa ) REFERENCES ofertas.programas( id_aut_programa )  
 );

CREATE  TABLE ofertas.ciudades ( 
	id_aut_ciudad        serial  NOT NULL ,
	nombre               varchar(50)   ,
	id_departamento      integer  NOT NULL ,
	CONSTRAINT pk_ciudades_id PRIMARY KEY ( id_aut_ciudad ),
	CONSTRAINT idx_ciudades UNIQUE ( nombre, id_departamento ) ,
	CONSTRAINT fk_ciudades_departamentos FOREIGN KEY ( id_departamento ) REFERENCES ofertas.departamentos( id_aut_dep )  
 );

CREATE  TABLE ofertas.localizacion ( 
	id_aut_localizacion  serial  NOT NULL ,
	codigo_postal        integer   ,
	direccion            varchar(100)  NOT NULL ,
	barrio               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT pk_localizacion_id PRIMARY KEY ( id_aut_localizacion ),
	CONSTRAINT fk_localizacion_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.egresados ( 
	id_aut_egresado      serial  NOT NULL ,
	identificacion       integer  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	genero               varchar(20)  NOT NULL ,
	id_lugar_expedicion  integer   ,
	id_lugar_residencia  integer   ,
	id_nivel_educativo   integer   ,
	num_hijos            smallint DEFAULT 0  ,
	id_lugar_nacimiento  integer   ,
	fecha_nacimiento     date   ,
	estado               varchar(40)  NOT NULL ,
	correo               varchar(100)   ,
	correo_alternativo   varchar(100)   ,
	estado_civil         varchar(40)   ,
	ha_trabajado         bool   ,
	trabaja_actualmente  bool   ,
	id_aut_user          integer   ,
	grupo_etnico         varchar(40)   ,
	celular              varchar(16)   ,
	telefono_fijo        varchar(16)   ,
	CONSTRAINT pk_egresados_id PRIMARY KEY ( id_aut_egresado ),
	CONSTRAINT fk_egresados_ciudades FOREIGN KEY ( id_lugar_expedicion ) REFERENCES ofertas.ciudades( id_aut_ciudad )  ,
	CONSTRAINT fk_egresados_localizacion FOREIGN KEY ( id_lugar_residencia ) REFERENCES ofertas.localizacion( id_aut_localizacion )  ,
	CONSTRAINT fk_egresados_niveles_estudio FOREIGN KEY ( id_nivel_educativo ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  ,
	CONSTRAINT fk_egresados_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user )  ,
	CONSTRAINT fk_egresados_nacimiento_ciudades FOREIGN KEY ( id_lugar_nacimiento ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.egresados_discapacidades ( 
	id_egresado          integer  NOT NULL ,
	id_discapacidad      integer  NOT NULL ,
	descripcion          varchar(80)   ,
	CONSTRAINT idx_egresados_discapacidades PRIMARY KEY ( id_egresado, id_discapacidad ),
	CONSTRAINT fk_egresados_discapacidades_egresado FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_egresados_discapacidades_discap FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades )  
 );

CREATE  TABLE ofertas.empresas ( 
	id_aut_empresa       serial  NOT NULL ,
	nit                  varchar(15)  NOT NULL ,
	nombre               varchar(100)   ,
	razon_social         varchar(200)  NOT NULL ,
	anio_creacion        smallint  NOT NULL ,
	numero_empleados     varchar(30)  NOT NULL ,
	ingresos             varchar(30)   ,
	sitio_web            varchar(200)   ,
	id_direccion         integer  NOT NULL ,
	estado               varchar(20)   ,
	fecha_registro       date DEFAULT current_date NOT NULL ,
	fecha_activacion     date   ,
	fecha_vencimiento    date   ,
	total_publicaciones  integer   ,
	limite_publicaciones integer   ,
	num_publicaciones_actuales integer   ,
	correo               varchar(60)   ,
	telefono             varchar(16)   ,
	url_logo             varchar(255)   ,
	url_doc_camaracomercio varchar(255)  NOT NULL ,
	descripcion          text   ,
	CONSTRAINT pk_empresas_id PRIMARY KEY ( id_aut_empresa ),
	CONSTRAINT idx_empresas_unique_nombre UNIQUE ( nombre ) ,
	CONSTRAINT idx_empresas_unique_nit UNIQUE ( nit ) ,
	CONSTRAINT fk_empresas_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion )  
 );

CREATE  TABLE ofertas.empresas_sectores ( 
	id_empresa           integer  NOT NULL ,
	id_sub_sector        integer  NOT NULL ,
	CONSTRAINT idx_empresas_sectores PRIMARY KEY ( id_empresa, id_sub_sector ),
	CONSTRAINT fk_empresas_sectores_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_empresas_sectores_sector FOREIGN KEY ( id_sub_sector ) REFERENCES ofertas.sub_sectores( id_aut_sub_sector )  
 );

CREATE  TABLE ofertas.experiencia ( 
	id_aut_exp           serial  NOT NULL ,
	id_egresado          integer   ,
	id_cargo             integer  NOT NULL ,
	nombre_jefe          varchar(60)  NOT NULL ,
	telefono_jefe        varchar(16)   ,
	correo_jefe          varchar(60)  NOT NULL ,
	nombre_empresa       varchar(50) DEFAULT 100 NOT NULL ,
	dir_empresa          varchar(50) DEFAULT 100  ,
	tel_trabajo          integer   ,
	rango_salario        varchar(50) DEFAULT 100  ,
	tipo_contrato        varchar(50) DEFAULT 50  ,
	trabajo_en_su_area   bool   ,
	sector               varchar(40)   ,
	id_ciudad            integer  NOT NULL ,
	fecha_inicio         date  NOT NULL ,
	fecha_fin            date   ,
	CONSTRAINT pk_cargos_id PRIMARY KEY ( id_aut_exp ),
	CONSTRAINT fk_cargos_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_experiencia_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  ,
	CONSTRAINT fk_experiencia_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

COMMENT ON COLUMN ofertas.experiencia.sector IS 'Publico=0\nPrivado=1';

CREATE  TABLE ofertas.grados ( 
	id_num_acta          integer DEFAULT 50 NOT NULL ,
	tipo_grado           varchar(60)   ,
	mencion_honor        varchar(50)   ,
	titulo_especial      varchar(100)   ,
	id_tipo_de_comentarios integer   ,
	anio_graduacion      varchar(50)  NOT NULL ,
	fecha_graduacion     date   ,
	id_programa          integer  NOT NULL ,
	id_estudiante        integer  NOT NULL ,
	CONSTRAINT idx_grados PRIMARY KEY ( id_programa, id_estudiante ),
	CONSTRAINT unq_grados_id_tipo_de_comentarios UNIQUE ( id_tipo_de_comentarios ) ,
	CONSTRAINT fk_grados_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa )  ,
	CONSTRAINT fk_grados_egresados FOREIGN KEY ( id_estudiante ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.ofertas ( 
	id_aut_oferta        serial  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	nombre_oferta        varchar(100)  NOT NULL ,
	descripcion          text  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	numero_vacantes      integer DEFAULT 1 NOT NULL ,
	id_forma_pago        integer  NOT NULL ,
	experiencia          varchar(30)  NOT NULL ,
	anios_experiencia    smallint DEFAULT 0 NOT NULL ,
	fecha_publicacion    date   ,
	fecha_cierre         date   ,
	estado               varchar(20)  NOT NULL ,
	estado_proceso       varchar   ,
	id_sector            integer  NOT NULL ,
	nombre_temporal_empresa varchar(30)   ,
	licencia_conduccion  varchar(20)   ,
	requisitos_minimos   text  NOT NULL ,
	id_discapacidad      integer   ,
	num_dias_oferta      integer  NOT NULL ,
	id_aut_nivestud      integer  NOT NULL ,
	CONSTRAINT pk_ofertas_id PRIMARY KEY ( id_aut_oferta ),
	CONSTRAINT fk_ofertas_empresas FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_ofertas_cargos FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  ,
	CONSTRAINT fk_ofertas_sectores FOREIGN KEY ( id_sector ) REFERENCES ofertas.sectores( id_aut_sector )  ,
	CONSTRAINT fk_ofertas_salarios FOREIGN KEY ( id_forma_pago ) REFERENCES ofertas.salarios( id_aut_salario )  ,
	CONSTRAINT fk_ofertas_discapacidades FOREIGN KEY ( id_discapacidad ) REFERENCES ofertas.discapacidades( id_aut_discapacidades )  ,
	CONSTRAINT fk_ofertas_niveles_estudio FOREIGN KEY ( id_aut_nivestud ) REFERENCES ofertas.niveles_estudio( id_aut_estudio )  
 );

CREATE  TABLE ofertas.ofertas_areascon ( 
	id_aut_oferta        integer  NOT NULL ,
	id_areaconocimiento  integer  NOT NULL ,
	CONSTRAINT idx_ofertas_areascon PRIMARY KEY ( id_aut_oferta, id_areaconocimiento ),
	CONSTRAINT fk_ofertas_areascon_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_ofertas_areascon FOREIGN KEY ( id_areaconocimiento ) REFERENCES ofertas.areas_conocimiento( id_aut_areaconocimiento ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.ofertas_idiomas ( 
	id_oferta            integer  NOT NULL ,
	id_idioma            integer  NOT NULL ,
	nivel_escritura      varchar(20)  NOT NULL ,
	nivel_lectura        varchar(20)  NOT NULL ,
	nivel_conversacion   varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_idiomas PRIMARY KEY ( id_oferta, id_idioma ),
	CONSTRAINT fk_ofertas_idiomas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_ofertas_idiomas_idiomas FOREIGN KEY ( id_idioma ) REFERENCES ofertas.idiomas( id_aut_idioma )  
 );

CREATE  TABLE ofertas.ofertas_software ( 
	id_software          serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	nivel                varchar(20)  NOT NULL ,
	CONSTRAINT idx_ofertas_software PRIMARY KEY ( id_software ),
	CONSTRAINT fk_ofertas_software_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.participa ( 
	id_egresado          integer  NOT NULL ,
	id_evento            integer  NOT NULL ,
	como_se_entero       varchar(50)  NOT NULL ,
	CONSTRAINT idx_participa PRIMARY KEY ( id_egresado, id_evento ),
	CONSTRAINT fk_participa_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_participa_evento FOREIGN KEY ( id_evento ) REFERENCES ofertas.evento( id_aut_evento )  
 );

CREATE  TABLE ofertas.postulaciones ( 
	id_aut_egresado      integer  NOT NULL ,
	id_aut_oferta        integer  NOT NULL ,
	fecha_postulacion    date DEFAULT current_date NOT NULL ,
	fecha_revision_empresa date   ,
	estado               varchar(30)   ,
	CONSTRAINT idx_postulaciones PRIMARY KEY ( id_aut_egresado, id_aut_oferta ),
	CONSTRAINT unq_postulaciones_id_aut_egresado UNIQUE ( id_aut_egresado ) ,
	CONSTRAINT fk_postulaciones_ofertas FOREIGN KEY ( id_aut_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_postulaciones_egresados FOREIGN KEY ( id_aut_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.preguntas_oferta ( 
	id_aut_pregunta      serial  NOT NULL ,
	pregunta             text  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_preguntas_oferta_id_aut_pregunta PRIMARY KEY ( id_aut_pregunta ),
	CONSTRAINT fk_preguntas_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.programas_ofertas ( 
	id_oferta            integer  NOT NULL ,
	id_programa          integer  NOT NULL ,
	CONSTRAINT idx_programas_ofertas PRIMARY KEY ( id_oferta, id_programa ),
	CONSTRAINT fk_programas_ofertas_programas FOREIGN KEY ( id_programa ) REFERENCES ofertas.programas( id_aut_programa )  ,
	CONSTRAINT fk_programas_ofertas_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta )  
 );

CREATE  TABLE ofertas.recepcion_hv ( 
	id_aut_recepcionhv   serial  NOT NULL ,
	id_oferta            integer  NOT NULL ,
	correo               varchar(60)  NOT NULL ,
	nombres              varchar(30)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_recepcion_hv_id_aut_recepcionhv PRIMARY KEY ( id_aut_recepcionhv ),
	CONSTRAINT fk_recepcion_hv_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.referidos_egresados ( 
	id_egresados         integer  NOT NULL ,
	id_referidos         integer  NOT NULL ,
	CONSTRAINT idx_referidos_egresados PRIMARY KEY ( id_egresados, id_referidos ),
	CONSTRAINT fk_referidos_egresados_egresados FOREIGN KEY ( id_egresados ) REFERENCES ofertas.egresados( id_aut_egresado )  ,
	CONSTRAINT fk_referidos_egresados_referidos FOREIGN KEY ( id_referidos ) REFERENCES ofertas.referidos( id_aut_referido )  
 );

CREATE  TABLE ofertas.representante_empresa ( 
	id_aut_representante_empresa serial  NOT NULL ,
	nombre               varchar(60)  NOT NULL ,
	apellidos            varchar(60)  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	CONSTRAINT pk_table_0_id_aut_administrador_empresa PRIMARY KEY ( id_aut_representante_empresa ),
	CONSTRAINT idx_administrador_empresa UNIQUE ( id_empresa ) ,
	CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  
 );

CREATE  TABLE ofertas.solicita ( 
	id_carnetizacion     integer  NOT NULL ,
	id_egresado          integer  NOT NULL ,
	CONSTRAINT idx_solicita PRIMARY KEY ( id_carnetizacion, id_egresado ),
	CONSTRAINT fk_solicita_carnetizacion FOREIGN KEY ( id_carnetizacion ) REFERENCES ofertas.carnetizacion( id_aut_carnetizacion )  ,
	CONSTRAINT fk_solicita_egresados FOREIGN KEY ( id_egresado ) REFERENCES ofertas.egresados( id_aut_egresado )  
 );

CREATE  TABLE ofertas.tipo_de_observacion ( 
	id_aut_comentario    serial  NOT NULL ,
	sugerencia_programa  text  NOT NULL ,
	opinio_universidad_futuro text  NOT NULL ,
	nombre_docente_influyo varchar(60)  NOT NULL ,
	id_grado             integer  NOT NULL ,
	CONSTRAINT pk_comentarios_id PRIMARY KEY ( id_aut_comentario ),
	CONSTRAINT fk_tipo_de_observacion_grados FOREIGN KEY ( id_grado ) REFERENCES ofertas.grados( id_tipo_de_comentarios )  
 );

CREATE  TABLE ofertas.ubicacion_oferta ( 
	id_oferta            integer  NOT NULL ,
	id_ciudad            integer  NOT NULL ,
	CONSTRAINT idx_ubicacion_oferta PRIMARY KEY ( id_oferta, id_ciudad ),
	CONSTRAINT fk_ubicacion_oferta_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE,
	CONSTRAINT fk_ubicacion_oferta_ciudades FOREIGN KEY ( id_ciudad ) REFERENCES ofertas.ciudades( id_aut_ciudad )  
 );

CREATE  TABLE ofertas.administrador_empresa ( 
	id_aut_administrador_empresa serial  NOT NULL ,
	nombres              varchar(40)  NOT NULL ,
	apellidos            varchar(40)  NOT NULL ,
	id_cargo             integer  NOT NULL ,
	telefono             varchar(16)   ,
	telefono_movil       varchar(16)  NOT NULL ,
	horario_contacto     varchar(40)   ,
	correo_corporativo   varchar(60)  NOT NULL ,
	id_direccion         integer  NOT NULL ,
	id_empresa           integer  NOT NULL ,
	id_aut_user          integer  NOT NULL ,
	CONSTRAINT pk_representante_legal_id PRIMARY KEY ( id_aut_administrador_empresa ),
	CONSTRAINT idx_administrador_empresa_0 UNIQUE ( id_empresa ) ,
	CONSTRAINT idx_administrador_empresa_1 UNIQUE ( correo_corporativo ) ,
	CONSTRAINT fk_representante_legal_localizacion FOREIGN KEY ( id_direccion ) REFERENCES ofertas.localizacion( id_aut_localizacion )  ,
	CONSTRAINT fk_representante_legal_empresa FOREIGN KEY ( id_empresa ) REFERENCES ofertas.empresas( id_aut_empresa )  ,
	CONSTRAINT fk_representante_empresa FOREIGN KEY ( id_cargo ) REFERENCES ofertas.cargos( id_aut_cargos )  ,
	CONSTRAINT fk_administrador_empresa_users FOREIGN KEY ( id_aut_user ) REFERENCES ofertas.users( id_aut_user )  
 );

CREATE  TABLE ofertas.contratos ( 
	id_aut_contrato      serial  NOT NULL ,
	duracion             varchar(20)   ,
	tipo_contrato        varchar(50)  NOT NULL ,
	jornada_laboral      varchar(30)  NOT NULL ,
	horario              varchar(40)   ,
	comentarios_salario  text   ,
	id_oferta            integer  NOT NULL ,
	CONSTRAINT pk_contratos_id_aut_contrato PRIMARY KEY ( id_aut_contrato ),
	CONSTRAINT idx_contratos_oferta UNIQUE ( id_oferta ) ,
	CONSTRAINT fk_contratos_ofertas FOREIGN KEY ( id_oferta ) REFERENCES ofertas.ofertas( id_aut_oferta ) ON DELETE CASCADE ON UPDATE CASCADE
 );

CREATE  TABLE ofertas.postulaciones_respuestas ( 
	id_egresado          integer  NOT NULL ,
	id_pregunta          integer  NOT NULL ,
	respuesta            text  NOT NULL ,
	CONSTRAINT idx_postulaciones_respuestas PRIMARY KEY ( id_egresado, id_pregunta ),
	CONSTRAINT fk_postulaciones_respuestas_postulaciones FOREIGN KEY ( id_egresado ) REFERENCES ofertas.postulaciones( id_aut_egresado )  ,
	CONSTRAINT fk_postulaciones_respuestas_preguntas_oferta FOREIGN KEY ( id_pregunta ) REFERENCES ofertas.preguntas_oferta( id_aut_pregunta )  
 );
]]></string>
		</script>
		<script name="estado_empresa" id="Editor_5015195" language="SQL" >
			<string><![CDATA[CREATE DOMAIN ofertas.estado_empresa VARCHAR(20) CHECK (VALUE IN ('Activo','Inactivo','En espera')) DEFAULT 'En espera';]]></string>
		</script>
	</layout>
</project>